(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[9],{"+8U0":function(e,t,n){"use strict";function o(e){var t=e.split("@")[0];return(t.includes(".")?t.replace("."," "):t.includes("_")?t.replace("_"," "):t).replace(/[0-9]/g,"").replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}n.d(t,"a",(function(){return o}))},"4wVv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI"),i=n.n(o),a=(n("17x9"),{separator:{borderBottom:"#dedede 1px solid",margin:"5px auto",width:"110px"}});function r(e){var t=e.css,n=void 0===t?{}:t,o=Object.assign({},a.separator,n);return i.a.createElement("div",{style:o})}},"9b9g":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"a",(function(){return h}));var o=n("WX9e"),i=n("oZBM"),a=398,r=708,s=460,l=560,c=3,u=708,p=398,d=480,g=6,m=500,h=1150;t.l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:""),r=arguments.length>5?arguments[5]:void 0;if(n===o.a.PIN&&a===i.a.tier1&&!r&&t[1000150]&&501018===t[1000150].experience_id){var s=e.v2GetGroup("web_unauth_plp_education_video")||"";return s.startsWith("enabled")}return!1}},NUH5:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o),a=n("Ye/N"),r=n("BlMG"),s=n("n6mq");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return o=this,i=(e=u(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==l(i)&&"function"!=typeof i?d(o):i,g(d(d(n)),"inputRef",null),g(d(d(n)),"handleNotNowClick",(function(){Object(r.a)("unauth.fb_phone_only_signup.email_step.not_now_click"),n.props.onNotNowClick&&n.props.onNotNowClick()})),n}var n,o,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.focusInputField(),Object(r.a)("unauth.fb_phone_only_signup.email_step")}},{key:"focusInputField",value:function(){this.inputRef&&this.inputRef.textfield&&this.inputRef.textfield.focus()}},{key:"render",value:function(){var e=this;a.a._("We use your email address for account creation and for important security and legal notices.","subtitle to explain the step on email collection form");var t=this.props,n=t.email,o=t.emailError,r=t.handleEmailChange,l=t.handleSubmit,c=a.a._("Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.","subtitle to explain the step on email collection form");return i.a.createElement(s.c,{marginTop:3},i.a.createElement("form",{method:"post",noValidate:!0,onSubmit:function(e){e.preventDefault(),l()}},i.a.createElement(s.K,{align:"left",overflow:"normal"},c),i.a.createElement(s.c,{marginTop:3}),i.a.createElement(s.c,null,i.a.createElement(s.M,{id:"email",errorMessage:o,onChange:r,placeholder:a.a._("Email address","email placeholder in the email inputfield on email collection form"),ref:function(t){e.inputRef=t},type:"email"})),i.a.createElement(s.c,{marginTop:5}),i.a.createElement(s.d,{color:"red",text:a.a._("Continue","word on the button which to submit user email information"),type:"submit",disabled:!n}),i.a.createElement(s.c,{marginTop:2}),i.a.createElement(s.d,{text:a.a._("Not now","word on not now button to dismiss the collection form"),type:"submit",onClick:this.handleNotNowClick})))}}])&&c(n.prototype,o),m&&c(n,m),t}(o.PureComponent),h=n("NSVK"),f=n("eOdZ"),y=n("inSI"),b=n("DrcS"),v=n("c50B"),E=n("VL22"),S=n("pLLR");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={container:{margin:"0 auto",width:"268px"}},P={EMAIL:"email"},L=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=O(t).call(this,e),n=!i||"object"!==w(i)&&"function"!=typeof i?C(o):i,k(C(C(n)),"mounted",!1),k(C(C(n)),"handleEmailChange",(function(e){var t=e.value;n.setState({email:t})})),k(C(C(n)),"showError",(function(e,t){n.mounted&&t===P.EMAIL&&n.setState({emailError:e})})),k(C(C(n)),"handleSubmit",(function(){if(Object(r.a)("unauth.fb_phone_only_signup.submit_email"),n.state.email)Object(r.a)("unauth.fb_phone_only_signup.submit_email"),n.attemptEmailSignupOrLogin();else{var e=a.a._("Email is required","email error message");n.setState({emailError:e})}})),k(C(C(n)),"handleSignupSuccess",(function(){h.c.handleSignupRedirect(n.props.nextUrlParam||window.location.pathname,!0),Object(r.a)("unauth.fb_phone_only_signup.signup_success")})),k(C(C(n)),"handleSignupFailure",(function(e){return function(t){var o=t.message||a.a._("Oops! Something went wrong… Click Continue to try again.","Error during signup during FB email collection step");n.showError(o,e),Object(r.a)("unauth.fb_phone_only_signup.signup_failure")}})),k(C(C(n)),"attemptEmailSignupOrLogin",(function(){var e=n.props.requestContext.country,t=n.state.email,o=[Object(v.d)({message:a.a._("Hmm... that doesn't look like an email address.","email error message")})],i=Object(y.a)(t,o);if(i)return Object(r.a)("unauth.fb_phone_only_signup.email_validation_failure"),void n.setState({emailError:i});var s=n.props,l=s.registrationCredentials,c=l.type,u=l.credentialsAndLoggingData,p=s.showSocialSignupWithAgeStep,d=s.showEmailAlreadyExistModal,g={email:t,facebook_token:u.facebook_token?u.facebook_token:"",facebook_id:u.facebook_id?u.facebook_id:""};f.a.create("EmailExistsResource",{email:t}).callGet().then((function(t){!1===t.resource_response.data?Object(E.e)(e)?p(c,g,u):b.a.attemptFacebookRegistration(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){k(e,t,n[t])}))}return e}({},g),!0).then(n.handleSignupSuccess,n.handleSignupFailure(P.EMAIL)):(d(c,g,u),Object(r.a)("unauth.fb_phone_only_signup.email_existed"))}),(function(){var e=a.a._("Hmm... that doesn't look like an email address.","email error message");n.showError(e,P.EMAIL),Object(r.a)("unauth.fb_phone_only_signup.email_exist_api_call_failure")}))})),n.state={email:"",emailError:""},n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return i.a.createElement("div",{style:T.container},i.a.createElement(m,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick}))}}])&&_(n.prototype,o),s&&_(n,s),t}(o.Component);t.a=Object(S.e)(L)},VsLI:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("q1tI"),i=n.n(o),a=n("pz/u"),r=n("n6mq");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){g(e,t,n[t])}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={header:{color:"#5a5a5a",fontWeight:500,fontSize:"12px"},button:{width:"160px",fontSize:"14px",padding:"10px 20px"}},h=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return o=this,i=(e=u(t)).call.apply(e,[this].concat(r)),n=!i||"object"!==s(i)&&"function"!=typeof i?d(o):i,g(d(d(n)),"state",{hover:!1}),g(d(d(n)),"toggleHover",(function(){n.setState({hover:!n.state.hover})})),n}var n,o,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.buttonText,n=e.fullWidth,o=e.link,s=e.onClick,c=e.title,u=e.titleStylesOverride,p=e.useSmallButton,d=m.header;u&&(d=l({},d,u));var g=n?l({},m.button,{width:"100%",marginTop:"0"}):m.button,h=i.a.createElement(a.a,{className:"lightGray",href:o,onClick:s,styleOverrides:g,type:"button"},t),f={};return p&&(d=l({},d,{float:"left"}),f={margin:"0 auto 5px",width:"fit-content",alignItems:"baseline"},h=i.a.createElement(r.c,{onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover},i.a.createElement("a",{onClick:s,style:{color:"#333",cursor:"pointer",marginLeft:"5px"}},t))),i.a.createElement("div",{style:f},c&&i.a.createElement("h5",{style:d},c),h)}}])&&c(n.prototype,o),h&&c(n,h),t}(o.Component)},WX9e:function(e,t,n){"use strict";t.a={BOARD:"board",FLASHLIGHT:"flashlight",PASSWORDRESET:"passwordReset",PASSWORDUSERNAME:"passwordUserName",PIN:"pin",PINFEEDBACK:"pinFeedBack",PROFILE:"profile",SEARCH:"search",TOPIC:"topic"}},aZSR:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o),a=n("jv6m"),r=n("Ye/N"),s=n("n6mq");t.a=function(){return i.a.createElement(s.c,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",width:"100%",height:"100%"},i.a.createElement(s.c,{color:"white",height:600,minWidth:"500px",shape:"rounded",width:"30%"},i.a.createElement(s.c,{alignItems:"center",direction:"column",display:"flex",height:"99%",justifyContent:"center",padding:12},i.a.createElement(s.c,{alignItems:"center",color:"red",display:"flex",height:60,justifyContent:"center",marginBottom:4,shape:"circle",width:60},i.a.createElement(s.n,{accessibilityLabel:r.a._("Loading state for google one tap registration"),color:"white",icon:"pin",size:"28"})),i.a.createElement(s.c,{alignItems:"center",paddingY:5,dangerouslySetInlineStyle:{__style:{"text-align":"center"}}},i.a.createElement(s.m,{size:"sm"},r.a._("Welcome to Pinterest!","Welcome to Pinterest!"))),i.a.createElement(s.K,{size:"xl",align:"center",overflow:"normal"},r.a._("Your answers to the next questions will help us find the right ideas for you","loading state description while waiting for google one tap registration to complete"))),i.a.createElement(a.a,{duration:6e3,finalProgress:95})))}},bFXG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o={DEFAULT_TOGGLE:"DEFAULT_TOGGLE",NO_TOGGLE:"NO_TOGGLE",SMALL_TOGGLE:"SMALL_TOGGLE",NOT_NOW_BUTTON:"NOT_NOW_BUTTON"}},fyRi:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o),a=n("JW66"),r=n("Ye/N"),s=n("NSVK"),l=n("inSI"),c=n("n6mq"),u=function(e){var t=e.age,n=e.error,o=e.handleAgeChange,a=e.handleSubmit,s=e.inputRef;return i.a.createElement(c.c,null,i.a.createElement("form",{method:"post",noValidate:!0,onSubmit:function(e){e.preventDefault(),a()}},i.a.createElement(c.c,null,i.a.createElement(c.K,{align:"left"},r.a._("How old are you?","Title for the age collection input field after connecting with Facebook or Google"))),i.a.createElement(c.c,{marginTop:2}),i.a.createElement(c.c,null,i.a.createElement(c.M,{id:"age",errorMessage:n||"",onChange:o,placeholder:r.a._("Age","text field for user to enter their age"),ref:function(e){s&&s(e)},type:"number"})),i.a.createElement(c.c,{marginTop:3}),i.a.createElement(c.c,null,i.a.createElement(c.d,{color:"red",disabled:!t,text:r.a._("Continue"),type:"submit"}))))},p=n("BlMG"),d=n("DrcS"),g=n("jsIX"),m=n("/5zs"),h=n("U4JR"),f=n("VL22"),y=n("pLLR");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){O(e,t,n[t])}))}return e}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={container:{margin:"0 auto",width:"268px"}},C=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return o=this,i=(e=S(t)).call.apply(e,[this].concat(c)),n=!i||"object"!==b(i)&&"function"!=typeof i?_(o):i,O(_(_(n)),"state",{age:"",error:""}),O(_(_(n)),"getViewParameter",(function(e){return e.type===f.a.FACEBOOK?3205:e.type===f.a.GOOGLE?3204:e.type===f.a.GOOGLE_ONE_TAP?3201:void 0})),O(_(_(n)),"handleAgeChange",(function(e){var t=e.value;n.setState({age:t})})),O(_(_(n)),"handleSignupSuccess",(function(){n.track("signup_success"),Object(h.a)(7487,{viewParameter:n.getViewParameter(n.props.registrationCredentials)});var e=n.props.showResponseMessageModal;e?e(!0):s.c.handleSignupRedirect(n.props.nextUrlParam||window.location.pathname,!0)})),O(_(_(n)),"handleSignupFailure",(function(e){n.track("signup_failure"),n.props.loadingIndicatorCallback&&n.props.loadingIndicatorCallback(!1),n.props.showSignupWelcomeLoadingFn&&n.props.showSignupWelcomeLoadingFn(!1),Object(h.a)(7488,{viewParameter:n.getViewParameter(n.props.registrationCredentials)});var t=e.message||r.a._("Oops! Something went wrong… Click Continue to try again.","Error during signup during age collection step");e.api_error_code===a.a.API_ERROR_UNDERAGE_REGISTER_ATTEMPT&&(t=r.a._("Uh oh... it looks like you’re not old enough just yet.","Underage error during signup")),n.setState({error:t})})),O(_(_(n)),"handleSubmit",(function(){var e=n.state.age;n.track("submit_button_click.".concat(e||"undefined"));var t=n.props,o=t.loadingIndicatorCallback,i=t.registrationCredentials,a=t.requestContext,r=t.showSignupWelcomeLoadingFn,s=t.showResponseMessageModal,l=n.validateAge(e||"");if(l)n.setState({error:l});else{var c;n.setState({error:""}),i.type===f.a.GOOGLE_ONE_TAP?c="web_unauth_google_one_tap_welcome":i.type===f.a.GOOGLE?c="web_unauth_gplus_welcome_v2":i.type===f.a.FACEBOOK&&(c="web_unauth_fb_welcome_v2");var u=!1;if(c?(u=new m.c(a,c).enabled(),a.experiments.flush()):o&&o(!0),Object(h.a)(7537,{viewParameter:n.getViewParameter(i)}),i.type===f.a.FACEBOOK){n.track("attempt_signup");var p=v({},d.a.buildFacebookRegistrationResourceOptions(i.userData),i.credentialsAndLoggingData,{recapToken:null,age:e});d.a.register(p).then(n.handleSignupSuccess,n.handleSignupFailure)}else i.type!==f.a.GOOGLE&&i.type!==f.a.GOOGLE_ONE_TAP||(n.track("attempt_signup"),d.a.register(v({},i.credentialsAndLoggingData,{age:e})).then(n.handleSignupSuccess,n.handleSignupFailure));!s&&r&&u&&r(!0)}})),n}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.track("shown"),this.focusInputField()}},{key:"track",value:function(e){var t=this.props,n=t.container,o=t.registrationCredentials,i=o?o.type:"undefined";Object(p.a)("unauth_web.age_collection_form.".concat(e,".").concat(i,".").concat(n||""))}},{key:"focusInputField",value:function(){this.inputRef&&this.inputRef.textfield&&this.inputRef.textfield.focus()}},{key:"validateAge",value:function(e){return r.a._("Please enter at least two digits.","Error message when age is less than two digits long"),Object(l.a)(e,[Object(g.a)({message:r.a._("Please enter a valid number.")})])}},{key:"render",value:function(){var e=this,t=this.state,n=t.age,o=t.error;return i.a.createElement("div",{style:x.container},i.a.createElement(u,{age:n,error:o,handleAgeChange:this.handleAgeChange,handleSubmit:this.handleSubmit,inputRef:function(t){e.inputRef=t}}))}}])&&E(n.prototype,o),c&&E(n,c),t}(o.Component);O(C,"defaultProps",{container:"undefined"});t.a=Object(y.e)(C)},jv6m:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("q1tI"),i=n.n(o),a=n("n6mq");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(){var e,n,o,i,a,s,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var p=arguments.length,d=new Array(p),g=0;g<p;g++)d[g]=arguments[g];return o=this,n=!(i=(e=l(t)).call.apply(e,[this].concat(d)))||"object"!==r(i)&&"function"!=typeof i?u(o):i,a=u(u(n)),c={startProgressBar:!1},(s="state")in a?Object.defineProperty(a,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[s]=c,n}var n,o,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({startProgressBar:!0})}),0)}},{key:"render",value:function(){var e=this.props,t=e.duration,n=e.finalProgress,o=e.showLightGrayBackground,r=e.rounded;return i.a.createElement(a.c,{width:"100%",color:o?"lightGray":"transparent",shape:r?"rounded":"square"},i.a.createElement(a.c,{color:"red",height:6,shape:"rounded",width:"".concat(n,"%"),dangerouslySetInlineStyle:{__style:{transform:this.state.startProgressBar?"scale(1, 1)":"scale(0, 1)",transformOrigin:"left",transitionDuration:"".concat(t,"ms"),transitionTimingFunction:"ease-in"}}}))}}])&&s(n.prototype,o),p&&s(n,p),t}(o.PureComponent)},pXxl:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),i=n.n(o),a=n("/MKj"),r=n("xdpg"),s=n("pz/u"),l=n("c4Fo"),c=n("N9+J"),u=n("NUH5"),p=n("py4n"),d=n("Ye/N"),g=n("MKeS"),m=n("shJ5"),h=n("7KqT"),f=n("qrz1"),y=n("weew"),b=n("+8U0"),v=n("17x9"),E=n.n(v),S=n("4wVv"),w=n("qMnA"),_=n("rvlh"),O=n("VsLI"),x=n("aZSR"),C=n("fyRi"),k=n("kmwA"),T=n("zwad"),P=n("fArA"),L=n.n(P),j=n("bFXG"),R=n("vvax"),M=n("U4JR"),A=n("1kvE"),F=n("9b9g"),I=n("BlMG"),B=n("liz/"),N=n("3fKP"),V=n("pLLR"),U=n("n6mq"),W=n("VJYJ");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Z(e,t,n[t])}))}return e}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),e}function K(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?Q(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=Object(g.a)({chunkName:function(){return"UnauthVideo"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return Promise.all([n.e(0),n.e("UnauthVideo")]).then(n.bind(null,"2aie"))},requireSync:function e(t){var o=this.resolve(t);return n(o)},resolve:function e(){return"2aie"}}),ee=k.a.settings.PARTNER_SITE_SIGNUP,te={signup:{backgroundColor:"#fff",borderRadius:"8px",position:"relative",textAlign:"center",width:"404px",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},signupMobile:{backgroundColor:"#fff",position:"absolute",left:"0",right:"0",top:"0",minHeight:"100vh",textAlign:"center"},signupModal:{textAlign:"center"},signupForm:{minHeight:"400px",padding:"20px 10px 24px"},signupInviteForm:{minHeight:"400px",padding:"30px 10px 20px"},signupTitleContainer:{margin:"0 auto 18px",width:"270px"},signupTitleMfaContainer:{padding:"0 10px"},signupTitle:{color:"#333",fontSize:"36px",fontWeight:"600",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",letterSpacing:"-1.2px"},haveAccountText:{display:"inline-block",marginRight:"4px"},logoContainer:{display:"block",height:"45px",margin:"5px auto 8px",width:"45px"},pinterestLogo:{textAlign:"center",paddingTop:"20px",display:"inline-block"},inputFields:{backgroundColor:"#f0f0f0",border:"0px",outline:"none"},separator:{borderBottom:"#efefef 1px solid",margin:"20px 0px 15px -68px",width:"404px"},signupLoginToggle:{color:"#333",fontSize:"14px",fontWeight:"normal",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},profilePic:{margin:"0 auto 16px",width:"108px"},personalizedModalContainer:{backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},closeButton:{backgroundColor:"transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"absolute",right:"10px",top:"10px"},notNowButton:{border:"none",color:"#717171",fontWeight:"bold",textDecoration:"none",backgroundColor:"#eee",height:"36px",borderRadius:"5px",fontSize:"16px",width:"268px",marginTop:"10px"},onClickEmailConfirmationButton:{width:"270px",marginTop:"40px"},signupSubtitles:{textAlign:"center",color:"#333",fontSize:"16px",fontWeight:"normal",margin:"-15px 0 32px"},businessHeader:{float:"left",color:"#333",fontSize:"12px",fontWeight:"bold",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},businessLink:{cursor:"pointer",marginLeft:"5px",float:"left",color:"#333",fontSize:"12px"},businessContainer:{margin:"10px auto 5px",display:"flex",alignItems:"baseline",width:"fit-content",justifyContent:"center"},closeButtonStyle:{position:"absolute",right:"10px",paddingTop:"10px",zIndex:"1"}},ne=function(e){function t(e){var n;z(this,t),Z(Q(Q(n=K(this,Y(t).call(this,e)))),"getNextUrlParam",(function(){var e=n.props.nextUrlParam;return e?decodeURIComponent(e):e})),Z(Q(Q(n)),"getNextUrl",(function(e){return n.getNextUrlParam()?T.a.buildRelativeUrl(e,{next:n.getNextUrlParam()}):e})),Z(Q(Q(n)),"getSignupBoxStyle",(function(){return"home_page"===n.props.container?G({},te.signup,{minHeight:"initial"}):te.signup})),Z(Q(Q(n)),"showAdditionalStep",(function(e){return function(t,o,i){n.setState({type:e,socialRegistrationCredentials:{type:t,userData:o,credentialsAndLoggingData:i}})}})),Z(Q(Q(n)),"tagline",(function(e,t,n){var o=d.a._("Sign up to see more","sigup copy default includes pin click and scrolling"),i={defaultSource:o,boardInvite:d.a._("Sign up to accept your board invite","Sign up copy board invite"),userFollow:d.a._("Sign up to see more of this profile","signup copy user follow"),userProfilePage:d.a._("Sign up to see more of this profile","signup copy profile page"),saveButton:d.a._("Sign up to see more","signup copy save button"),signupButton:d.a._("Sign up to see more","signup copy signup button"),homePage:d.a._("Welcome to Pinterest","Title on desktop signup modal on home page"),login:o,loginMfa:o,actionButton:o,boardPage:o,giftWrap:o,invite:o,mwebDefaultSource:o,navigateBoard:o,navigateInterest:o,navigatePin:o,personalizedFlyout:o,unauthVisualSearch:o,unauthBanner:o,unauthHeader:o},a=d.a._("Log in to see more","Title on desktop login modal"),r={boardInvite:d.a._("Log in to accept your board invite","Login copy board invite"),invite:d.a._("Log in to invite friends"),login:a,saveButton:d.a._("Log in to see more","Title on desktop login modal"),homePage:d.a._("Welcome to Pinterest","Title on desktop signup modal on home page"),defaultSource:a,loginMfa:a,actionButton:a,boardPage:a,giftWrap:a,unauthVisualSearch:a,mwebDefaultSource:a,navigateBoard:a,navigateInterest:a,navigatePin:a,personalizedFlyout:a,signupButton:a,unauthBanner:a,userFollow:a,userProfilePage:a,unauthHeader:a},s={login:d.a._("Two-Factor Authentication Required")};return e===N.c.signup||e===N.c.signupOrPersonalizedLogin?i[t]:e===N.c.loginMfa?s[N.b.login]:r[t]})),Z(Q(Q(n)),"valuePropAsSubtitle",(function(e){return e===N.b.homePage?d.a._("Find new ideas to try","Value prop on desktop signup modal on home page"):d.a._("Discovery starts here","Pinterest value proposition on desktop login modal")})),Z(Q(Q(n)),"valuePropAsTitle",(function(){return d.a._("Access our best ideas with a free account","Value prop on desktop signup modal")})),Z(Q(Q(n)),"switchToSignup",(function(){n.setModalType(N.c.signup)})),Z(Q(Q(n)),"toggleMagicLinkConfirmation",(function(e){n.setState({type:e?N.c.magicLinkConfirmation:N.c.login})})),Z(Q(Q(n)),"clearPassword",(function(){n.setState({password:""})})),Z(Q(Q(n)),"handlePreventRegisterFromPersonalizedModal",(function(e){Object(I.a)("unauth.personalized_login.prevent_register.".concat(e)),n.setState({headerStyle:"default",isPersonalizedModal:!1,isLoading:!1}),n.switchToSignup()})),Z(Q(Q(n)),"resetInferredUser",(function(){var e=n.props,t=e.emailTaken,o=e.setEmailAvailable;t&&(o(),n.setState({isPersonalizedModal:!1,userInfo:void 0}))})),Z(Q(Q(n)),"handleNotYouClick",(function(e){var t=n.props.viewer;e.event.preventDefault(),n.resetInferredUser(),n.state.type===N.c.FBEmailAlreadyExist?n.setState({headerStyle:"default",isPersonalizedModal:!1,password:"",type:N.c.login}):n.setState({headerStyle:"default",isPersonalizedModal:!1,password:""}),Object(I.a)("unauth.personalized_login.not_you.click"),t.isAuth?Object(M.a)(101,{element:10879,login_state:t.isLimitedLogin?2:1}):Object(M.a)(101,{element:10879})})),Z(Q(Q(n)),"toggleLoadingIndicator",(function(e){n.setState({isLoading:e})})),Z(Q(Q(n)),"handleLoginToggleButtonClick",(function(e){var t=n.props.handleModalTypeSwitch;n.trackScopedAction("login_toggle_click"),t&&t(),n.setModalType(N.c.login,e),n.setWelcomeBackMessageForExistingEmail(!1)})),Z(Q(Q(n)),"handleSignupToggleButtonClick",(function(e){var t=n.props,o=t.handleModalTypeSwitch,i=t.requestContext.seoUnauthExperiments,a=t.pageType,r=t.hybridTier,s=t.requestContext,l=t.eligibleExperiences;n.trackScopedAction("signup_toggle_click"),o&&o(),n.setModalType(N.c.signup,e),Object(F.l)(i,l,a,!0,r,s.isBot)&&(n.state.type===N.c.login||n.state.type===N.c.signup)&&n.setState({isShowRegisterForm:!1})})),Z(Q(Q(n)),"handleConfirmationPageButtonClick",(function(e){n.setModalType(N.c.login,e)})),Z(Q(Q(n)),"handleNotNowClick",(function(e){n.setModalType(N.c.signup,e),n.toggleLoadingIndicator(!1)})),Z(Q(Q(n)),"handleSignupToggleFromPersonalized",(function(e){var t=n.props.viewer;e.event.preventDefault(),n.resetInferredUser(),Object(I.a)("unauth.personalized_login.signup_instead.click"),n.setState({password:""}),t.isAuth?Object(M.a)(101,{element:10880,login_state:t.isLimitedLogin?2:1}):Object(M.a)(101,{element:10880}),n.handleSignupToggleButtonClick(e)})),Z(Q(Q(n)),"handlePostConnectClick",(function(){Object(I.a)("unauth.fb_email_reauth.post_connect.click")})),Z(Q(Q(n)),"handlePostSuccessConnect",(function(){Object(I.a)("unauth.fb_email_reauth.post_success.connect")})),Z(Q(Q(n)),"handleShowRegisterForm",(function(){n.setState({isShowRegisterForm:!0})})),Z(Q(Q(n)),"updateEmail",(function(e){n.setState({email:e,clearError:!0})})),Z(Q(Q(n)),"showSignupWelcomeLoadingFn",(function(e){n.setState({showSignupWelcomeLoading:e}),n.props.handleShowingSignupWelcomeLoading&&n.props.handleShowingSignupWelcomeLoading(e)})),Z(Q(Q(n)),"setWelcomeBackMessageForExistingEmail",(function(e){n.setState({isExitingUserInSignup:e})})),Z(Q(Q(n)),"renderSocialSignupModalText",(function(e,t,a){var r=n.props,s=r.container,l=r.darkSignupTitle,c=r.delayedTitleRender,u=r.hybridTier,g=r.inviter,m=r.type;if(e){var h=g?g.first_name:"",f=g?g.image_medium_url:"",y=m===N.c.respondMessage,b=y?d.a._("Sign up and let {{ name }} know what you think","Prompt user to signup to access all Pinterest features").replace("{{ name }}",h):d.a._("Join {{ name }} on Pinterest for more ideas","Prompt user to signup to access all Pinterest features").replace("{{ name }}",h);return i.a.createElement(o.Fragment,null,i.a.createElement("div",{style:te.profilePic},i.a.createElement(U.a,{src:f,name:h,verified:y,icon:"pinterest"})),i.a.createElement("div",{style:a},!c&&i.a.createElement(p.a,{container:s,darkSignupTitle:l,hybridTier:u,modalType:N.a.signup,titleText:b})))}return t}));var a=T.a.getQueryStringParams();return n.state={clearError:!1,type:"signup"===a.type?N.c.signup:n.props.type,email:e.email||"",password:"",age:void 0,gender:"",mfaCode:"",mfaCreds:e.mfaCreds||null,mfaPhoneNumberEnd:"",name:"",isExitingUserInSignup:!1,isPersonalizedModal:null,isLoading:!1,socialRegistrationCredentials:n.props.socialRegistrationCredentials,step:"signup",showSignupWelcomeLoading:!1,isShowRegisterForm:!1},n}return J(t,e),H(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.AMPClientId,n=e.userInfo,o=e.viewer;if(this.logModalShown(this.state.type),this.context.logging&&(o.isAuth?Object(M.a)(1771,{view:this.context.logging.viewType,viewParameter:this.context.logging.viewParameter,login_state:o.isLimitedLogin?2:1}):Object(M.a)(1771,{view:this.context.logging.viewType,viewParameter:this.context.logging.viewParameter})),t&&Object(I.c)("signup_page_from_amp",{amp_client_id:t}),o.isAuth&&o.isLimitedLogin){var i={connected_to_facebook:this.isLimitedLoginUserFBConnected(),connected_to_google:this.isLimitedLoginUserGplusConnected(),email:o.email,first_name:o.firstName,has_password:o.hasPassword,medium_image_url:o.imageMediumUrl};this.setPersonalizedModal(i)}else this.setPersonalizedModal(n)}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){t.type!==this.state.type&&this.logModalShown(t.type)}},{key:"componentDidUpdate",value:function(e){if(this.props.userInfo!==e.userInfo&&this.setPersonalizedModal(this.props.userInfo),this.props.emailTaken&&this.props.emailTaken!==e.emailTaken){var t={connected_to_facebook:!0,connected_to_google:!0,email:this.state.email,first_name:Object(b.a)(this.state.email),has_password:!0,medium_image_url:""};this.setPersonalizedModal(t)}this.props.type!==e.type&&this.setState({type:this.props.type,email:this.props.email||"",password:"",age:void 0,gender:"",mfaCode:"",mfaCreds:this.props.mfaCreds||null,mfaPhoneNumberEnd:"",name:"",socialRegistrationCredentials:this.props.socialRegistrationCredentials})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.isAccountSwitch,n=e.container;t&&(Object(B.k)("add_account_dismiss",null,n),Object(B.h)(n))}},{key:"getSignupStyles",value:function(){var e=this.props.modal,t=this.getSignupBoxStyle();return e?te.signupModal:t}},{key:"setModalType",value:function(e,t){this.setState({type:e})}},{key:"setNameFromEmail",value:function(){this.setState({name:Object(b.a)(this.state.email)})}},{key:"setPersonalizedModal",value:function(e){var t=this.props,n=t.emailTaken,o=t.signupSource,i=t.isAccountSwitch,a=t.toggleModalType,r=this.state,s=r.isPersonalizedModal,l=r.type;i||e&&Object.keys(e).length>0&&(!s||n)&&(e.medium_image_url.endsWith("user/default_150.png")&&(e.medium_image_url=""),this.setState({isPersonalizedModal:!0,userInfo:e}),o===N.b.homePage&&l===N.c.signup&&a&&a())}},{key:"logModalShown",value:function(e){Object(I.a)("unauth.authentication_modal.shown.".concat(this.props.toggleType,".").concat(e))}},{key:"trackScopedAction",value:function(e){Object(I.a)("unauth.authentication_modal.".concat(e,".").concat(this.props.toggleType,".").concat(this.state.type))}},{key:"handleDataChange",value:function(e,t){var n={};n[e]=t.target.value,this.setState(n)}},{key:"handleLoginWithMfa",value:function(e,t){var n={mfaCreds:e,mfaPhoneNumberEnd:void 0};t&&t.phone_number_end&&(n.mfaPhoneNumberEnd=t.phone_number_end),this.setState(n),this.setModalType(N.c.loginMfa)}},{key:"changeStep",value:function(e){this.setState({step:e})}},{key:"isUnidentifiedSignupMethod",value:function(){var e=this.props.viewer;if(e.isAuth&&e.isLimitedLogin)return this.isUnidentifiedLimitedLoginSignupMethod();var t=this.state.userInfo;return t&&!(t.has_password||t.connected_to_facebook||t.connected_to_google)}},{key:"isUnidentifiedLimitedLoginSignupMethod",value:function(){var e=this.props.viewer;return e.isAuth&&e.isLimitedLogin&&!(e.hasPassword||this.isLimitedLoginUserGplusConnected()||this.isLimitedLoginUserFBConnected())}},{key:"isLimitedLoginUserFBConnected",value:function(){var e=this.props.viewer;return e.socialNetwork&&e.socialNetwork.facebook&&e.socialNetwork.facebook.connected}},{key:"isLimitedLoginUserGplusConnected",value:function(){var e=this.props.viewer;return e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected}},{key:"renderModalSideImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,n=e||{},o=n.image_url,a=n.image_aspect_ratio,r={height:"100%",width:a*t,maxWidth:400,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:"url(".concat(o,")")};return i.a.createElement("div",{style:{borderRadius:"8px 0 0 8px",overflow:"hidden"}},i.a.createElement("div",{style:r}))}},{key:"renderModalSideVideo",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=this.state,a=o.isShowRegisterForm,r=o.type,s=F.b,l=F.f;return r===N.c.login?s=F.d:r===N.c.signup&&(s=a?F.b:F.e),i.a.createElement($,{autoplay:!0,muted:!0,margin:F.c,video:{mp4:{url:e,thumbnail:t,duration:n,width:l,height:s}},view:this.context.logging.viewType,viewParameter:this.context.logging.viewParameter,componentLogging:13326,modalOpened:!1,fallback:i.a.createElement("div",null)})}},{key:"renderLoadingIndicator",value:function(){return this.state.isLoading?i.a.createElement(m.a,null):null}},{key:"renderPersonalizedLogin",value:function(){var e,t=this,n=this.props,a=n.container,r=n.darkSignupTitle,s=n.delayedTitleRender,l=n.hybridTier,c=n.isBusiness,u=n.location,g=n.passwordValidationError,m=n.pins,f=n.viewer,b=n.type,v=Object(W.a)(u.pathname,{path:"/pin/:id",exact:!0});if(f.isLimitedLogin&&v){var E=v.params.id,S=E&&m[E]&&m[E].images&&m[E].images["474x"];e=S&&{image_url:S.url,image_aspect_ratio:S.width/S.height||0}}var w=d.a._("Not you? Log in with a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account"),_=d.a._("Need an account? Sign up now","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account"),O=this.state.userInfo?this.state.userInfo.first_name:"",x=Object(R.b)(d.a._("Welcome back, {{name}}!","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest"),{name:O}),C=te.logoContainer,k=G({},te.signupTitleContainer,{width:"350px",overflow:"hidden",maxHeight:"120px"}),T=i.a.createElement(o.Fragment,null,this.renderLoadingIndicator(),i.a.createElement("div",{style:C},Object(y.a)(40,!0)),i.a.createElement("div",{style:k},!s&&i.a.createElement(p.a,{container:a,darkSignupTitle:r,hybridTier:l,modalType:N.a.personalizedLogin,titleText:x})),i.a.createElement("div",{style:te.profilePic},i.a.createElement(U.a,{src:this.state.userInfo?this.state.userInfo.medium_image_url:"",name:this.state.userInfo?this.state.userInfo.first_name:""})),i.a.createElement(U.c,{marginBottom:3},i.a.createElement(U.K,{size:"md",align:"center"},this.state.userInfo?this.state.userInfo.email:null)),i.a.createElement(V.a,null,(function(e){return i.a.createElement(h.a,{requestContext:e,container:t.props.container,disablePostSignupNextUrl:!0,email:t.state.userInfo?t.state.userInfo.email:null,loadingIndicatorCallback:t.toggleLoadingIndicator,passwordValidationError:g,inputStyleOverrides:te.inputFields,nextUrlParam:t.getNextUrlParam(),loginButtonTextOverride:d.a._("Continue"),hideEmailField:!0,hidePasswordField:!!t.state.userInfo&&!t.state.userInfo.has_password&&!t.isUnidentifiedSignupMethod(),hideFacebookButton:!!t.state.userInfo&&!t.state.userInfo.connected_to_facebook&&!t.isUnidentifiedSignupMethod(),hideGoogleButton:!!t.state.userInfo&&!t.state.userInfo.connected_to_google&&!t.isUnidentifiedSignupMethod(),hidePasswordReset:!0,hideTermsOfService:!0,onEmailChange:function(){},onSocialConnectVerified:t.showAdditionalStep(N.c.socialSignupWithAge),onFBPhoneOnlyConnectVerified:t.showAdditionalStep(N.c.FBEmailCollection),onLoginWithMfa:t.handleLoginWithMfa.bind(t),onPasswordChange:t.handleDataChange.bind(t,"password"),password:t.state.password,shouldPreventRegister:!0,triggerAccountRecoveryMode:t.handlePreventRegisterFromPersonalizedModal,showResponseMessageModal:b===N.c.respondMessage?t.props.showResponseMessageModal:void 0})})),i.a.createElement(U.c,{paddingY:5},i.a.createElement(U.j,null)),i.a.createElement(U.c,{"data-test-id":"login-switch-account"},i.a.createElement(U.P,{onTouch:this.handleNotYouClick,fullWidth:!1},i.a.createElement(U.K,{align:"center",size:"sm",weight:"bold"},i.a.createElement(U.t,{href:"#"},w)))),i.a.createElement(U.c,{marginTop:1,marginBottom:4},i.a.createElement(U.P,{onTouch:c?function(){Object(M.a)(101,{element:10880})}:this.handleSignupToggleFromPersonalized,fullWidth:!1},i.a.createElement(U.K,{align:"center",size:"sm",weight:"bold"},i.a.createElement(U.t,{href:c?this.getNextUrl("/business/create"):"#"},_)))));return e?i.a.createElement("div",{"data-test-id":"login",style:G({},te.personalizedModalContainer,{display:"flex",width:"auto",padding:""})},this.renderModalSideImage(e),i.a.createElement("div",{style:{width:400,padding:"22px 0"}},T)):i.a.createElement("div",{"data-test-id":"login",style:te.personalizedModalContainer},T)}},{key:"renderEmailAlreadyExistLogin",value:function(){var e=this,t=this.props,n=t.container,a=t.darkSignupTitle,r=t.delayedTitleRender,s=t.hybridTier,l=t.isBusiness,c=t.passwordValidationError,u=t.type,g=d.a._("Not you? Log in with a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account"),m=d.a._("Need an account? Sign up now","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account"),f=this.state.userInfo?this.state.userInfo.first_name:"",b=Object(R.b)(d.a._("Looks like you're already on Pinterest","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest"),{name:f}),v=te.logoContainer,E=G({},te.signupTitleContainer,{width:"350px",overflow:"hidden",maxHeight:"120px"}),S=i.a.createElement(o.Fragment,null,this.renderLoadingIndicator(),i.a.createElement("div",{style:v},Object(y.a)(40,!0)),i.a.createElement("div",{style:E},!r&&i.a.createElement(p.a,{container:n,darkSignupTitle:a,hybridTier:s,modalType:N.a.personalizedLogin,titleText:b})),i.a.createElement(U.c,{marginBottom:3},i.a.createElement(U.K,{size:"md",align:"center"},this.state.socialRegistrationCredentials.userData?this.state.socialRegistrationCredentials.userData.email:null)),i.a.createElement(V.a,null,(function(t){return i.a.createElement(h.a,{requestContext:t,container:e.props.container,disablePostSignupNextUrl:!0,email:e.state.socialRegistrationCredentials.userData?e.state.socialRegistrationCredentials.userData.email:null,loadingIndicatorCallback:e.toggleLoadingIndicator,passwordValidationError:c,inputStyleOverrides:te.inputFields,nextUrlParam:e.getNextUrlParam(),loginButtonTextOverride:d.a._("Continue"),hideEmailField:!0,hideFacebookButton:!0,hidePasswordReset:!0,hideTermsOfService:!0,onEmailChange:function(){},onSocialConnectVerified:e.showAdditionalStep(N.c.socialSignupWithAge),onFBPhoneOnlyConnectVerified:e.showAdditionalStep(N.c.FBEmailCollection),onLoginWithMfa:e.handleLoginWithMfa.bind(e),onPasswordChange:e.handleDataChange.bind(e,"password"),password:e.state.password,shouldPreventRegister:!0,triggerAccountRecoveryMode:e.handlePreventRegisterFromPersonalizedModal,showResponseMessageModal:u===N.c.respondMessage?e.props.showResponseMessageModal:void 0})})),i.a.createElement(U.c,{paddingY:5},i.a.createElement(U.j,null)),i.a.createElement(U.c,{"data-test-id":"login-switch-account"},i.a.createElement(U.P,{onTouch:this.handleNotYouClick,fullWidth:!1},i.a.createElement(U.K,{align:"center",size:"sm",weight:"bold"},i.a.createElement(U.t,{href:"#"},g)))),i.a.createElement(U.c,{marginTop:1,marginBottom:4},i.a.createElement(U.P,{onTouch:l?function(){Object(M.a)(101,{element:10880})}:this.handleSignupToggleFromPersonalized,fullWidth:!1},i.a.createElement(U.K,{align:"center",size:"sm",weight:"bold"},i.a.createElement(U.t,{href:l?this.getNextUrl("/business/create"):"#"},m)))));return i.a.createElement("div",{"data-test-id":"login",style:te.personalizedModalContainer},S)}},{key:"renderSignupToLoginToggle",value:function(){return i.a.createElement(O.a,{buttonText:d.a._("Already a member? Log in","Toggle to switch from the sign up modal to the login modal "),link:"/login/",onClick:this.handleLoginToggleButtonClick,titleStylesOverride:te.signupLoginToggle,useSmallButton:!0})}},{key:"renderDefaultSignup",value:function(){var e=this.props,t=e.container,n=e.darkSignupTitle,a=e.delayedTitleRender,r=e.emailValidationError,s=e.passwordValidationError,l=e.signupSource,c=e.requestContext.seoUnauthExperiments,u=e.viewer,g=e.renderBusinessCreateButton,m=e.inviter,h=e.pageType,f=e.hybridTier,b=e.requestContext,v=e.eligibleExperiences,E=e.type,w=this.state,O=w.age,x=w.email,C=w.gender,k=w.isExitingUserInSignup,T=w.name,P=w.password,L=this.props.customSignupTagline||(l?this.tagline(this.state.type,l,c):this.tagline(this.state.type,N.b.defaultSource,c));k&&(L=d.a._("Welcome back to Pinterest!","welcoming user back to pinterest in signup modal when we recognize their email"));var R=G({},this.getSignupStyles(),{width:"484px"},"home_page"===t?{paddingBottom:55}:null),A=te.signupForm,B=te.logoContainer,V=te.signupTitleContainer;"login_page"!==t&&(V=G({},V,{width:"400px"}));var W=te.signupTitleContainer,D=te.signupSubtitles,z=i.a.createElement("div",null,i.a.createElement(S.a,{css:te.separator}),i.a.createElement("div",null,this.renderSignupToLoginToggle()));this.props.toggleType===j.a.NOT_NOW_BUTTON?z=i.a.createElement("div",null,i.a.createElement("div",{style:{marginTop:"32px"}},this.renderSignupToLoginToggle()),i.a.createElement("div",null,i.a.createElement("div",{style:te.businessContainer},i.a.createElement("h5",{style:te.businessHeader},d.a._("Are you a business? ")),i.a.createElement("a",{href:ee,style:te.businessLink,target:"_blank",onClick:function(){Object(I.a)("unauth.business_link.click"),u.isAuth?Object(M.a)(101,{component:13096,element:10281,login_state:u.isLimitedLogin?2:1}):Object(M.a)(101,{component:13096,element:10281})}},d.a._("Get started here"))))):"home_page"===t&&(z=i.a.createElement(U.c,{marginTop:3},this.renderSignupToLoginToggle()));var q=48;l===N.b.homePage&&(q=50);var H=this.valuePropAsTitle(),K=!!m&&!m.is_default_image,Y=i.a.createElement(o.Fragment,null,i.a.createElement("div",{style:B},Object(y.a)(q,!0)),i.a.createElement("div",{style:V},!a&&i.a.createElement(p.a,{container:t,hybridTier:f,darkSignupTitle:n,modalType:N.a.signup,titleText:["login_page","home_page"].includes(t)?L:H})),i.a.createElement("div",{style:W},!this.state.isExitingUserInSignup&&i.a.createElement("h3",{style:D},"login_page"!==t&&"home_page"!==t?L:this.valuePropAsSubtitle(l)))),J=(Object(F.l)(c,v,h,!0,f,b.isBot)&&(this.state.type===N.c.login||(this.state.type,N.c.signup)),i.a.createElement(o.Fragment,null,this.renderLoadingIndicator(),i.a.createElement("div",{style:K?te.signupInviteForm:A},this.renderSocialSignupModalText(K,Y,V),i.a.createElement(_.a,{additionalEmailPasswordChildren:z,age:O,container:this.props.container,dark:!0,disablePostSignupNextUrl:!0,email:x,emailValidationError:r,loadingIndicatorCallback:this.toggleLoadingIndicator,passwordValidationError:s,gender:C,setWelcomeBackMessageForExistingEmail:this.setWelcomeBackMessageForExistingEmail,name:T,nextUrlParam:this.props.postSignupUrlParam||this.getNextUrlParam(),onAgeChange:this.handleDataChange.bind(this,"age"),onEmailChange:this.handleDataChange.bind(this,"email"),onFBPhoneOnlyConnectVerified:this.showAdditionalStep(N.c.FBEmailCollection),onFBEmailDeniedPerm:this.showAdditionalStep(N.c.FBEmailRerequest),onSocialConnectVerified:this.showAdditionalStep(N.c.socialSignupWithAge),onGenderChange:this.handleDataChange.bind(this,"gender"),onLoginWithMfa:this.handleLoginWithMfa.bind(this),onNameChange:this.handleDataChange.bind(this,"name"),onPasswordChange:this.handleDataChange.bind(this,"password"),onStepChange:this.changeStep.bind(this),onShowRegisterForm:this.handleShowRegisterForm,setNameFromEmail:this.setNameFromEmail.bind(this),signupSource:l,showSignupWelcomeLoadingFn:this.showSignupWelcomeLoadingFn,password:P,clearPassword:this.clearPassword,showResponseMessageModal:E===N.c.respondMessage?this.props.showResponseMessageModal:void 0})),g&&g()));c.v2GetGroup("web_unauth_plp_education_video");return i.a.createElement("div",{"data-test-id":"signup",style:R},J)}},{key:"renderLoginToSignupToggle",value:function(e){return i.a.createElement(O.a,{buttonText:d.a._("Not on Pinterest yet? Sign up","Toggle to switch from the login modal to the sign up modal"),link:e,onClick:this.handleSignupToggleButtonClick,titleStylesOverride:te.signupLoginToggle,useSmallButton:!0})}},{key:"renderDefaultLogin",value:function(){var e=this,t=this.props,n=t.container,a=t.customLoginTagline,r=t.darkSignupTitle,s=t.delayedTitleRender,l=t.emailValidationError,c=t.isAccountSwitch,u=t.hideAccountSwitchValueProp,g=t.magicLinkGroup,m=t.passwordValidationError,f=t.requestContext.seoUnauthExperiments,b=t.signupSource,v=(t.renderBusinessCreateButton,t.pageType),E=t.hybridTier,w=t.requestContext,_=t.eligibleExperiences,O=t.type,x=a||(b?this.tagline(this.state.type,b,f):this.tagline(this.state.type,N.b.login,f)),C=te.logoContainer,k=te.signupTitleContainer;"login_page"!==n&&(k=G({},k,{width:"400px"}));var T=40;b===N.b.homePage&&(T=50);var P=G({},this.getSignupStyles(),{width:"484px"},null),L=te.signupForm,R=te.signupTitleContainer,M=te.signupSubtitles,A=G({},te.separator,{marginLeft:"-10px"}),I=i.a.createElement("div",null,i.a.createElement(S.a,{css:A}),i.a.createElement("div",null,this.renderLoginToSignupToggle("/signup/")));this.props.isBusiness?I=i.a.createElement("div",null,i.a.createElement(S.a,{css:{margin:"10px auto"}}),i.a.createElement("a",{href:this.getNextUrl("/business/create")},d.a._("Create new account","Link to the page to create a new business account instead of logging in")),i.a.createElement("div",null)):this.props.toggleType===j.a.NOT_NOW_BUTTON?I=i.a.createElement("div",null,i.a.createElement(S.a,{css:{margin:"10px auto"}}),i.a.createElement("div",{style:te.haveAccountText},this.renderLoginToSignupToggle()),i.a.createElement("div",null)):this.props.toggleType===j.a.NO_TOGGLE||c?I=null:this.props.toggleType===j.a.SMALL_TOGGLE&&(I=i.a.createElement("div",null,i.a.createElement(S.a,{css:{margin:"10px auto"}}),this.renderLoginToSignupToggle(),i.a.createElement("div",null)));var B=d.a._("Have another Pinterest account? Log in to easily switch between them","Subtitle on the login modal that explains to a user why they would add an additional account to their profile"),U=(Object(F.l)(f,_,v,!0,E,w.isBot)&&(this.state.type===N.c.login||(this.state.type,N.c.signup)),i.a.createElement(o.Fragment,null,this.renderLoadingIndicator(),i.a.createElement("div",{style:L},i.a.createElement("div",{style:C},Object(y.a)(T,!0)),i.a.createElement("div",{style:k},!s&&i.a.createElement(p.a,{container:n,hybridTier:E,darkSignupTitle:r,modalType:N.a.login,titleText:x})),c&&!u&&i.a.createElement("div",{style:R},i.a.createElement("h3",{style:M},B)),i.a.createElement(V.a,null,(function(t){return i.a.createElement(h.a,{requestContext:t,container:e.props.container,disablePostSignupNextUrl:!0,email:e.state.email,emailValidationError:l,loadingIndicatorCallback:e.toggleLoadingIndicator,passwordValidationError:m,inputStyleOverrides:te.inputFields,isAccountSwitch:c,magicLinkGroup:g,nextUrlParam:e.getNextUrlParam(),onEmailChange:e.handleDataChange.bind(e,"email"),onSocialConnectVerified:e.showAdditionalStep(N.c.socialSignupWithAge),onFBPhoneOnlyConnectVerified:e.showAdditionalStep(N.c.FBEmailCollection),onLoginWithMfa:e.handleLoginWithMfa.bind(e),onPasswordChange:e.handleDataChange.bind(e,"password"),password:e.state.password,toggleMagicLinkConfirmation:e.toggleMagicLinkConfirmation,clearPassword:e.clearPassword,showResponseMessageModal:O===N.c.respondMessage?e.props.showResponseMessageModal:void 0})})),I),!1));f.v2GetGroup("web_unauth_plp_education_video");return i.a.createElement("div",{"data-test-id":"login",style:P},U)}},{key:"renderLoginMfa",value:function(){var e=this.props,t=e.container,n=e.darkSignupTitle,o=e.delayedTitleRender,a=e.hybridTier,r=e.requestContext.seoUnauthExperiments,s=this.tagline(this.state.type,N.b.loginMfa,r),l=this.getSignupStyles(),c=te.signupForm,u=te.logoContainer;return i.a.createElement("div",{"data-test-id":"login",style:l},i.a.createElement("div",{style:c},i.a.createElement("div",{style:u},Object(y.a)(40,!0)),i.a.createElement("div",{style:G({},te.signupTitleContainer,te.signupTitleMfaContainer)},!o&&i.a.createElement(p.a,{container:t,darkSignupTitle:n,hybridTier:a,modalType:N.a.loginMfa,titleText:s})),i.a.createElement(f.a,{container:this.props.container,code:this.state.mfaCode,creds:this.state.mfaCreds,email:this.state.email,inputStyleOverrides:te.inputFields,isAccountSwitch:this.props.isAccountSwitch,nextUrlParam:this.getNextUrlParam(),onCodeChange:this.handleDataChange.bind(this,"mfaCode"),password:this.state.password,phoneNumberEnd:this.state.mfaPhoneNumberEnd})))}},{key:"renderMagicLinkConfirmation",value:function(){var e=this,t=this.state,n=t.email,o=t.password;return Object(A.a)("confirmation_shown",n,o),i.a.createElement("div",{"data-test-id":"login",style:this.getSignupStyles()},i.a.createElement("div",{style:te.signupForm},i.a.createElement("div",{style:te.logoContainer},Object(y.a)(40,!0)),i.a.createElement("div",{style:te.signupTitleContainer},i.a.createElement("h3",{style:te.signupTitle},d.a._("Check your email","title on login modal telling user to check their email"))),i.a.createElement(U.c,{direction:"column",alignItems:"center",display:"flex"},i.a.createElement(U.c,{paddingY:3,width:270},i.a.createElement(U.K,{size:"lg"},i.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.c(d.a._("We just sent an email to you at <strong>{{ email }}</strong>. It has a magic link that you can use to log in.","Message on login modal telling users an email has been sent to them containing a link to log in"),{email:n})}}))),i.a.createElement(U.c,{paddingY:3,width:270},i.a.createElement(U.d,{text:d.a._("Back","text on button to return to login modal from magic link confirmation screen"),onClick:function(){Object(A.a)("confirmation_dismissed",n,o),e.toggleMagicLinkConfirmation(!1)}})))))}},{key:"renderSocialSignupWithAge",value:function(){var e=this.state.socialRegistrationCredentials,t=this.props.type,n=d.a._("Sign up to see more","Age collection signup step for Facebook/G+ authentication");return i.a.createElement("div",{"data-test-id":"login",style:this.getSignupBoxStyle()},this.renderLoadingIndicator(),i.a.createElement("div",{style:te.signupForm},i.a.createElement("div",{style:te.logoContainer},Object(y.a)(40,!0)),i.a.createElement("div",{style:te.signupTitleContainer},i.a.createElement("h3",{style:te.signupTitle},n)),i.a.createElement(C.a,{container:this.props.container,disablePostSignupNextUrl:!0,loadingIndicatorCallback:this.toggleLoadingIndicator,nextUrlParam:this.getNextUrlParam(),registrationCredentials:e,showSignupWelcomeLoadingFn:this.showSignupWelcomeLoadingFn,showResponseMessageModal:t===N.c.respondMessage?this.props.showResponseMessageModal:void 0})),i.a.createElement(U.c,{margin:4},i.a.createElement(U.j,null),i.a.createElement(U.c,{padding:3},this.renderSignupToLoginToggle())))}},{key:"renderFBEmailCollection",value:function(){var e=this.state.socialRegistrationCredentials,t=this.props,n=t.nextUrlParam,o=t.requestContext.seoUnauthExperiments,a=G({},te.signup,{minHeight:"400px"}),r=G({},te.signupTitleContainer,{width:"310px"});d.a._("What's your email address?","email collection step for Facebook phone only sign up");var s=d.a._("What's your email address?","Prompt for email address in after sign in with apple");return i.a.createElement("div",{"data-test-id":"login",style:a},this.renderLoadingIndicator(),i.a.createElement("div",{style:te.signupForm},i.a.createElement("div",{style:te.logoContainer},Object(y.a)(40,!0)),i.a.createElement("div",{style:r},i.a.createElement("h3",{style:te.signupTitle},s)),i.a.createElement(u.a,{nextUrlParam:n,loadingIndicatorCallback:this.toggleLoadingIndicator,showEmailConfirmationStep:this.showAdditionalStep(N.c.emailConfirmation),showEmailAlreadyExistModal:this.showAdditionalStep(N.c.FBEmailAlreadyExist),showLoginStep:this.showAdditionalStep(N.c.login),showSocialSignupWithAgeStep:this.showAdditionalStep(N.c.socialSignupWithAge),registrationCredentials:e,seoUnauthExperiments:o,onNotNowClick:this.handleNotNowClick})))}},{key:"renderFBEmailRerequestForm",value:function(){var e=this.props.type,t=G({},this.getSignupBoxStyle(),{minHeight:"400px"}),n=G({},te.signupTitleContainer,{width:"320px"}),o=d.a._("Add your email to finish","Tagline on facebook rerequest form"),a=G({},te.signupSubtitles,{marginTop:"24px"}),r=G({},te.notNowButton,{marginTop:"90px"}),l=d.a._("We need your email address to complete this signup. Click the button below, and we can use the email associated with your Facebook account.","message to explain reauth step beneath the tagline");return i.a.createElement("div",{"data-test-id":"login",style:t},this.renderLoadingIndicator(),i.a.createElement("div",{style:te.signupForm},i.a.createElement("div",{style:te.logoContainer},Object(y.a)(40,!0)),i.a.createElement("div",{style:n},i.a.createElement("h3",{style:te.signupTitle},o),i.a.createElement("h3",{style:a},l),i.a.createElement("div",{style:{width:"260px",margin:"auto"}},i.a.createElement(c.b,{isRerequest:!0,container:"FBEmailRerequest",buttonText:d.a._("Continue with Facebook","Button text on facebook connect button on FB email reauth form"),loadingIndicatorCallback:this.toggleLoadingIndicator,useGestaltTooltip:!0,handlePostConnectClick:this.handlePostConnectClick,handlePostSuccessConnect:this.handlePostSuccessConnect,showResponseMessageModal:e===N.c.respondMessage?this.props.showResponseMessageModal:void 0}))),i.a.createElement(s.a,{className:"lightGrey",onClick:this.handleNotNowClick,styleOverrides:r},d.a._("Not now","word on not now button to dismiss the FB email reauth form"))))}},{key:"renderEmailConfirmation",value:function(){var e=this.state.socialRegistrationCredentials.userData.email,t=d.a._("Check your email","email confirmation tagline for Facebook cellphone only sign up"),n=d.a._("We've sent a confirmation email to ","email confirmation message for Facebook cellphone only sign up"),o=G({},te.signupSubtitles,{marginTop:"24px"});return i.a.createElement("div",{"data-test-id":"login",style:this.getSignupBoxStyle()},i.a.createElement("div",{style:te.signupForm},i.a.createElement("div",{style:te.logoContainer},Object(y.a)(40,!0)),i.a.createElement("div",{style:te.signupTitleContainer},i.a.createElement("h3",{style:te.signupTitle},t),i.a.createElement("h3",{style:o},n,e)),i.a.createElement(s.a,{className:"red",onClick:this.handleConfirmationPageButtonClick,styleOverrides:te.onClickEmailConfirmationButton},d.a._("Done","word on the button in email confirmation page"))))}},{key:"render",value:function(){var e=this.state,t=e.isAccountSwitch,n=e.isPersonalizedModal,o=e.showSignupWelcomeLoading,a=e.type,r=this.props.viewer;return a===N.c.signupOrPersonalizedLogin?n&&!t?this.renderPersonalizedLogin():this.renderDefaultSignup():a===N.c.signup?o?i.a.createElement(x.a,null):this.renderDefaultSignup():a===N.c.login?o?i.a.createElement(x.a,null):!n||t||r.isAuth&&!r.isLimitedLogin?this.renderDefaultLogin():this.renderPersonalizedLogin():a===N.c.loginMfa?this.renderLoginMfa():a===N.c.socialSignupWithAge?o?i.a.createElement(x.a,null):this.renderSocialSignupWithAge():a===N.c.FBEmailRerequest?this.renderFBEmailRerequestForm():a===N.c.emailConfirmation?this.renderEmailConfirmation():a===N.c.magicLinkConfirmation?this.renderMagicLinkConfirmation():a===N.c.respondMessage?this.renderDefaultSignup():this.state.type===N.c.FBEmailCollection?this.renderFBEmailCollection():this.state.type===N.c.FBEmailAlreadyExist?this.renderEmailAlreadyExistLogin():null}}]),t}(o.Component);Z(ne,"defaultProps",{disablePersonalizedLoginActivation:!1,isAccountSwitch:!1,signupSource:N.b.defaultSource,toggleType:j.a.DEFAULT_TOGGLE,type:N.c.signup});var oe=function(e){return{location:e.location,pins:e.pins||{},userInfo:e.loggedOutUserInfo?e.loggedOutUserInfo.userInfo:{},viewer:e.viewer,eligibleExperiences:e.experiences?e.experiences.eligibleExperiences:{},emailTaken:!!e.loggedOutUserInfo&&e.loggedOutUserInfo.emailTaken}},ie=function(e){return{setEmailAvailable:function(){return e(Object(w.a)(!1))}}};ne.contextTypes={isBot:E.a.bool,logging:E.a.shape({viewParameter:E.a.number,viewType:E.a.number.isRequired}),locale:E.a.string},t.default=Object(P.compose)(V.e,Object(a.connect)(oe,ie))(ne)},py4n:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("q1tI"),i=n.n(o),a=n("BlMG");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={signupTitle:{color:"#333",fontSize:"36px",fontWeight:"600",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",letterSpacing:"-1.2px"}},g=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),g=0;g<s;g++)c[g]=arguments[g];return o=this,i=(e=l(t)).call.apply(e,[this].concat(c)),n=!i||"object"!==r(i)&&"function"!=typeof i?u(o):i,p(u(u(n)),"componentDidMount",(function(){var e=n.props,t=e.container,o=e.hybridTier,i=e.modalType;Object(a.a)("web.unauth.modal_title.view"),Object(a.a)("unauth_web_modal.".concat(t||"unknown",".").concat(o||"undefined_tier",".").concat(i,".shown"))})),p(u(u(n)),"getSignupTitleStyles",(function(){var e=n.props.darkSignupTitle,t=d.signupTitle;return e&&(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){p(e,t,n[t])}))}return e}({},t,{color:"#000"})),t})),n}var n,o,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props.titleText,t=this.getSignupTitleStyles();return i.a.createElement("h3",{style:t},e)}}])&&s(n.prototype,o),g&&s(n,g),t}(o.Component)},qMnA:function(e,t,n){"use strict";function o(e){return{type:"EMAIL_AVAILABILITY",payload:{isTaken:e}}}n.d(t,"a",(function(){return o}))},qrz1:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o),a=n("pz/u"),r=n("Ye/N"),s=n("x/Ro"),l=n("NSVK"),c=n("17x9"),u=n.n(c),p=n("inSI"),d=n("kmwA"),g=n("mt4P"),m=n("BlMG"),h=n("vvax"),f=n("IRjL"),y=n("c50B");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _,O,x,C=d.a.settings.PASSWORD_RESET_URL,k={loginForm:{borderTop:"solid 1px #ccc",minHeight:"350px",padding:"20px 10px"},loginText:{fontSize:"14px",margin:"24px 0",textAlign:"left"},loginTitleContainer:{margin:"0 auto 25px"},loginTitle:{fontSize:"28px",fontWeight:"bold",letterSpacing:"-1px"},loginContainer:{margin:"0 auto",marginTop:"45px",width:"268px"},loginFooterContainer:{marginTop:"15px",color:"#333"},signupButton:{width:"100%"}},T=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=E(this,S(t).call(this,e))).state={codeValidationError:null,loading:!1},n.codeValidators=[Object(y.m)({message:r.a._("You missed a spot! Don't forget to add your verification code.")}),Object(y.k)({message:r.a._("Hmm...that doesn't look like a verification code.")})],n}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){!this.props.isAccountSwitch&&l.c.isFullyLoggedIn(this.context.isAuthenticated,this.context.loginState)&&l.c.handleRedirect(this.props.nextUrlParam)}},{key:"_getLocationForLoginRedirect",value:function(){var e=window.location.pathname!==C?window.location.pathname:"/";return this.props.nextUrlParam||e}},{key:"handleButtonClick",value:function(e){var t=Object(p.a)(this.props.code,this.codeValidators);t?(this.setState({codeValidationError:t}),Object(m.a)("unauth.login.error.CLIENT_ERROR.wrongcode.".concat("loginmfa"))):(this.setState({codeValidationError:null}),this.loginUser())}},{key:"handleResendCode",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0});var n=this.props.creds;n?n.mfa_resend=!0:n={mfa_resend:!0,username_or_email:this.props.email,password:this.props.password};var o={container:this.props.container,hybridTier:this.context.hybridTier,page:this.context.pageType};Object(s.a)(n,o).then((function(){t.setState({loading:!1})}),(function(e){t.setState({loading:!1}),e.message?t.setState({codeValidationError:e.message}):Object(f.a)(r.a._("Sorry! Something went wrong on our end."))}))}},{key:"loginUser",value:function(e){var t=this;this.setState({loading:!0});var n=e||this.props.creds;n?n.mfa_token=this.props.code:n={mfa_token:this.props.code,username_or_email:this.props.email,password:this.props.password};var o={container:this.props.container,hybridTier:this.context.hybridTier,page:this.context.pageType};Object(s.a)(n,o).then((function(){l.c.handleRedirect(t._getLocationForLoginRedirect())}),(function(e){e.message?t.setState({codeValidationError:e.message,loading:!1}):(Object(f.a)(r.a._("Sorry! Something went wrong on our end.")),t.setState({loading:!1}))}))}},{key:"render",value:function(){var e=this,t=k.loginContainer,n=r.a._("Continue"),o=this.props.phoneNumberEnd,s=o?Object(h.b)(r.a._("Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in."),{phoneNumberEnd:i.a.createElement("strong",{key:"phone"},o)}):r.a._("Please check your phone for a code and enter it in the field below to log in.");return i.a.createElement("div",{style:t},i.a.createElement("p",{style:k.loginText},s),i.a.createElement("form",{method:"POST",noValidate:!0,onSubmit:function(t){t.preventDefault(),e.handleButtonClick(t)}},i.a.createElement(g.a,{autoComplete:"off",focused:!0,hasError:!!this.state.codeValidationError,id:"mfaCode",inputStyleOverrides:this.props.inputStyleOverrides,name:"code",onChange:this.props.onCodeChange,placeholder:r.a._("Verification code"),tooltip:this.state.codeValidationError,type:"text",value:this.props.code,useGestaltTooltip:this.props.useGestaltTooltip}),i.a.createElement(a.a,{accessibilityLabel:n,className:"red SignupButton",loading:this.state.loading,styleOverrides:k.signupButton,type:"submit"},i.a.createElement("div",null,n))),i.a.createElement("div",{style:k.loginFooterContainer},Object(h.b)(r.a._("If you didn't get it, we can {{ resendCode }}."),{resendCode:i.a.createElement("a",{onClick:this.handleResendCode.bind(this),href:"",key:"code"},r.a._("resend the code"))})))}}])&&v(n.prototype,o),c&&v(n,c),t}(o.Component);x={container:"unknown"},(O="defaultProps")in(_=T)?Object.defineProperty(_,O,{value:x,enumerable:!0,configurable:!0,writable:!0}):_[O]=x,T.contextTypes={isAuthenticated:u.a.bool.isRequired,loginState:u.a.number,hybridTier:u.a.string,pageType:u.a.string},t.a=T},rvlh:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o),a=n("/MKj"),r=n("gxu6"),s=n("kL1e"),l=n("JW66"),c=n("N9+J"),u=n("D8pe"),p=n("Ye/N"),d=n("0/lC");var g=n("x/Ro"),m=n("8rCP"),h=n("17x9"),f=n.n(h),y=n("DtEZ"),b=n("eOdZ"),v=n("inSI"),E=n("qMnA"),S=n("H3gn"),w=n("i7x9"),_=n("BlMG"),O=n("DrcS"),x=n("a0jO"),C=n("n6mq"),k=n("IRjL"),T=n("/5zs"),P=n("U4JR"),L=n("dtw8"),j=n("a2Qh"),R=n("NSVK"),M=n("jsIX"),A=n("VL22"),F=n("pLLR"),I=n("fArA");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){G(e,t,n[t])}))}return e}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z={emailButtonStyles:{height:"40px",width:"100%",borderRadius:"2px"},emailButtonTextStyles:{fontFamily:x.a,textAlign:"center",fontSize:"15px",WebkitFontSmoothing:"auto"},spaceBetweenTextAndSocial:{height:"11px"},signupContainer:{margin:"0 auto",width:"268px"},socialButtonContainer:{marginTop:"10px"},socialButtonSeparator:{height:"10px"}},q="emailpwdstep",H=function(e){function t(e,n){var o,a,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,d=U(t).call(this,e,n),o=!d||"object"!==B(d)&&"function"!=typeof d?D(a):d,G(D(D(o)),"onLoginWithSuspended",(function(){(0,o.props.loadingIndicatorCallback)(!1),o.setState({accountRecoveryModalType:j.a[l.a.POLICY_VIOLATION_USER]})})),G(D(D(o)),"onLoginWithVoluntarilyDeactivated",(function(e){o.setState({googleValidationError:e.message})})),G(D(D(o)),"setLoadingState",(function(e){var t=o.props,n=t.loadingIndicatorCallback,i=t.showSignupWelcomeLoadingFn;return i&&!1===e&&i(!1),n(e)})),G(D(D(o)),"inDisableAccountKitPhoneNumberLoginExp",(function(){return(o.props.requestContext.seoUnauthExperiments.v2ActivateExperiment("web_unauth_disable_accountkit_phonenumber_login")||"").startsWith("enabled")})),G(D(D(o)),"handleButtonClick",(function(e){if("1"!==r.a("r_r")){var t=!1;if(o.inDisableAccountKitPhoneNumberLoginExp())t=!0;else m.a.runPhoneValidators(o.props.email,o.props.requestContext.locale,o._loginFacebookAccountKit.bind(D(D(o))))&&(t=!0);o.setState({facebookValidationError:null,googleValidationError:null}),t&&o.handleEmailSignUp(e)}else o.showUnderAgeError()})),G(D(D(o)),"handleEmailChange",(function(e){o.props.onEmailChange&&o.props.onEmailChange(e)})),G(D(D(o)),"handleTypoSuggestionClick",(function(){o.setState({emailValidationError:""})})),G(D(D(o)),"handlePasswordChange",(function(e){o.state.passwordValidationError&&o.setState({passwordValidationError:null}),o.props.onPasswordChange&&o.props.onPasswordChange(e)})),G(D(D(o)),"handleEmailSignUp",(function(e){Object(_.a)("unauth_email_validation_attempt");var t=Object(v.a)(o.props.email,o.emailValidators);if(t)o.setState({emailValidationError:t}),Object(_.a)("unauth.login.error.CLIENT_ERROR.malformemail.".concat(q));else{t=Object(v.a)(o.props.password,o.loginPasswordValidators);var n=Object(v.a)(o.props.password,o.asciiValidators);t?(o.setState({passwordValidationError:t}),Object(_.a)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(q))):n?(o.setState({passwordValidationError:n}),Object(_.a)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(q)),Object(_.a)("unauth.login.error.CLIENT_ERROR.nonasciipwd.".concat(q))):(o.setState({passwordValidationError:null}),o.validateEmailAvailable(e)),o.setState({emailValidationError:null}),o.props.setNameFromEmail&&o.props.setNameFromEmail()}})),G(D(D(o)),"_loginFacebookAccountKit",(function(e){if(m.a.validateResponse(e)){var t={phone_number:o.props.email,fb_auth_code:e.code};Object(_.a)("unauth_phone_only_login_attempt"),o.login(t)}else o.setState({emailValidationError:p.a._("Enter your email or phone number to try again.")}),o.setLoadingState(!1)})),G(D(D(o)),"register",(function(){o.setLoadingState(!0);var e=o.props,t=e.age,n=e.container,i=e.email,a=e.name,s=e.password,c=e.signupSource,u={container:n,email:i,password:s,age:t,country:o.context.country,signupSource:c,first_name:a,last_name:"",hybridTier:o.context.hybridTier,page:o.context.pageType,recapToken:o.props.recaptchaTokenV3||"default"};Object(_.a)("one_step_age_signup_complete"),O.a.register(u).then(o.handleSignupSuccess,(function(e){o.contextLogSignupLoginEvent(7488),o.setLoadingState(!1),o.props.refreshRecaptchaTokenV3&&o.props.refreshRecaptchaTokenV3(),e.api_error_code===l.a.API_ERROR_UNDERAGE_REGISTER_ATTEMPT?(r.b("r_r","1"),o.showUnderAgeError()):e.api_error_code===l.a.SIGNUP_INVALID_EMAIL?(Object(_.a)("unauth_show_invalid_email_inline_error"),o.setState({emailValidationError:p.a._("Your email is invalid.")})):Object(k.a)(p.a._("Sorry! Something went wrong on our end."))})),o.contextLogSignupLoginEvent(7537)})),G(D(D(o)),"handleSignupSuccess",(function(){var e=o.props.showResponseMessageModal;o.contextLogSignupLoginEvent(7487),Object(_.a)("unauth.signup_one_step.completed"),e?e(!0):R.c.handleSignupRedirect(o.props.nextUrlParam,o.props.disablePostSignupNextUrl)})),G(D(D(o)),"shouldRequireAge",(function(){var e=o.context.country,t=o.props.requestContext;if(Object(A.e)(e)||Object(A.d)(e))return!0;var n=Object(A.c)(e)&&new T.c(t,"web_age_collection_expansion_markets").enabled(),i=new T.c(t,"web_age_collection_expansion_row").enabled();return n||i})),G(D(D(o)),"validateAgeRequirement",(function(){var e=!1;return o.shouldRequireAge()&&(e=Object(v.a)(o.props.age||"",o.ageValidators))&&(o.setState({ageValidationError:e}),o.setLoadingState(!1),Object(_.a)("unauth.login.error.CLIENT_ERROR.invalidage.".concat(q))),e})),G(D(D(o)),"validatePasswordRequirement",(function(){var e=Object(v.a)(o.props.password,o.passwordValidators);return e&&(o.setState({passwordValidationError:e}),o.setLoadingState(!1),Object(_.a)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(q))),e})),G(D(D(o)),"completeRegistration",(function(e){o.setState({emailValidationError:null}),o.setLoadingState(!1),Object(_.a)("unauth.signup_step_1.completed"),o.register()})),G(D(D(o)),"updateEmailAvailability",(function(e){var t=o.props,n=t.prevEmailTaken,i=t.setEmailTaken;(n&&!e||!n&&e)&&i(e)})),G(D(D(o)),"checkEmailExistsWithCompletion",(function(e,t,n){var i=o.props.requestContext;b.a.create("EmailExistsResource",{email:e}).callGet({emailValidationError:!1}).then((function(e){(o.setState({emailValidationError:null}),!1===e.resource_response.data)?(o.updateEmailAvailability(!1),n()):(new T.c(i,"web_personalized_login_from_email").enabled()&&o.updateEmailAvailability(!0),i.experiments.flush(),t())}),(function(){var e=p.a._("Hmm...that doesn't look like an email address");o.setState({emailValidationError:e})}))})),G(D(D(o)),"updateAccountRecoveryModal",(function(e){return o.setState({accountRecoveryModalType:e})})),G(D(D(o)),"handleSignupWithEmailClick",(function(){Object(_.a)("unauth_signup_email_btn_click"),o.setState({showRegisterForm:!0}),o.props.onShowRegisterForm&&o.props.onShowRegisterForm()})),G(D(D(o)),"renderSocialButtons",(function(){var e=o.props.sm,t=i.a.createElement(c.b,{buttonText:p.a._("Continue with Facebook"),container:o.props.container,disablePostSignupNextUrl:o.props.disablePostSignupNextUrl,onSocialConnectVerified:o.props.onSocialConnectVerified,onFBEmailDeniedPerm:o.props.onFBEmailDeniedPerm,onFBPhoneOnlyConnectVerified:o.props.onFBPhoneOnlyConnectVerified,loadingIndicatorCallback:o.props.loadingIndicatorCallback,onLoginWithMfa:o.props.onLoginWithMfa,onLoginWithSuspended:o.onLoginWithSuspended,showSignupWelcomeLoadingFn:o.props.showSignupWelcomeLoadingFn,tooltip:o.state.facebookValidationError,useGestaltTooltip:!0,showResponseMessageModal:o.props.showResponseMessageModal}),n=i.a.createElement("div",{ref:function(e){o.googleButton=e}},"1"!==e&&i.a.createElement(u.b,{action:"signup",container:o.props.container,disablePostSignupNextUrl:o.props.disablePostSignupNextUrl,nextUrlParam:"/",onSocialConnectVerified:o.props.onSocialConnectVerified,onLoginWithMfa:o.props.onLoginWithMfa,onLoginWithSuspended:o.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:o.onLoginWithVoluntarilyDeactivated,showSignupWelcomeLoadingFn:o.props.showSignupWelcomeLoadingFn,tooltip:o.state.googleValidationError,showResponseMessageModal:o.props.showResponseMessageModal}));return i.a.createElement("div",{style:z.socialButtonContainer},t,i.a.createElement("div",{style:z.socialButtonSeparator}),n)})),G(D(D(o)),"renderSignupForm",(function(){var e=o.props,t=e.age,n=e.email,a=e.inputStyleOverrides,r=e.newEmail,s=e.onAgeChange,l=e.password,c=e.suppressFocus,u=e.updateEmail;return o.state.showRegisterForm?i.a.createElement(y.a,{age:t,ageValidationError:o.state.ageValidationError,buttonText:o.getButtonText(),buttonTextLabel:p.a._("Continue creating your Pinterest account","Accessiblity button text to continue creating an account"),checkEmailExistsWithCompletion:o.checkEmailExistsWithCompletion,email:n,emailFieldHasError:o.state.emailFieldHasError,emailText:p.a._("Email"),emailLabel:p.a._("Enter your email","Accessiblity input text on login screen"),emailValidationError:o.state.emailValidationError,onTypoSuggestionClick:o.handleTypoSuggestionClick,inputStyleOverrides:a,newEmail:r,onAgeChange:s,onButtonClick:o.handleButtonClick.bind(D(D(o))),onEmailChange:o.handleEmailChange,onPasswordChange:o.handlePasswordChange,password:l,passwordText:p.a._("Create a password"),passwordValidationError:o.state.passwordValidationError,showAgeInput:!0,suppressFocus:c,updateEmail:u,isSignupForm:!0}):i.a.createElement("div",{"data-test-id":"emailSignUpButton"},i.a.createElement(C.d,{text:p.a._("Sign up with email","the description of sign up with email button on sign up modal"),color:"red",onClick:o.handleSignupWithEmailClick}))})),G(D(D(o)),"renderReorderedButtons",(function(){var e=o.props.signupSeparatorContinuous;return i.a.createElement("div",null,o.renderSocialButtons(),o.state.showRegisterForm?i.a.createElement("div",{style:{marginBottom:"10px"}},i.a.createElement(s.a,{signupSeparatorContinuous:e})):null,o.renderSignupForm())})),G(D(D(o)),"renderSocialButtonsOnly",(function(){o.renderSocialButtons()})),G(D(D(o)),"renderOriginalForm",(function(){var e=o.props.signupSeparatorContinuous;return i.a.createElement("div",null,o.renderSignupForm(),o.state.showRegisterForm?i.a.createElement(s.a,{signupSeparatorContinuous:e}):null,o.renderSocialButtons())})),G(D(D(o)),"renderButtons",(function(){var e=o.props.sm;return"2"===e?o.renderReorderedButtons():"1"===e?o.renderSocialButtonsOnly():o.renderOriginalForm()})),G(D(D(o)),"showUnderAgeError",(function(){o.setState({ageValidationError:p.a._("Sorry, you can't sign up yet. You’re not old enough to use Pinterest yet.","Error message when under age user trying to register")})})),o.state={ageValidationError:e.ageValidationError||null,accountRecoveryModalType:null,emailFieldHasError:!1,emailValidationError:e.emailValidationError||null,facebookValidationError:null,googleValidationError:null,passwordValidationError:e.passwordValidationError||null,showRegisterForm:"home_page"===o.props.container},o.emailValidators=[Object(M.i)({message:p.a._("You missed a spot! Don't forget to add your email.")}),Object(M.c)({message:p.a._("Hmm...that doesn't look like an email address.")})];var g=p.a._("Your password is too short! You need 6+ characters."),h=p.a._("Passwords can only include alphabet letters, numbers, and common punctuation characters.","Only ASCII characters are allowed for password"),f=p.a._("Help us protect you by providing your age","Error message shown when user did not fill the age field in the sign up model");return o.passwordValidators=[Object(M.i)({message:g}),Object(M.f)({shortPassStr:g,samePasswordStr:p.a._("Please make your username and password different."),blackPassStr:p.a._("Please make a stronger password.")})],o.asciiValidators=[Object(M.b)({message:h})],o.loginPasswordValidators=[Object(M.i)({message:g}),Object(M.b)({message:h}),Object(M.e)({messages:{min:g},min:6})],o.shouldRequireAge()?o.ageValidators=[Object(M.i)({message:f}),Object(M.a)({message:p.a._("Please enter a valid number.")})]:o.ageValidators=[Object(M.a)({message:p.a._("Please enter a valid number.")})],o}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props.requestContext;this.inDisableAccountKitPhoneNumberLoginExp()||m.a.setupPhoneAuth(e.locale)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.ageValidationError,n=e.emailValidationError,o=e.passwordValidationError,i={};n!==this.props.emailValidationError?i={emailValidationError:n}:o!==this.props.passwordValidationError?i={passwordValidationError:o}:t!==this.props.ageValidationError&&(i={ageValidationError:t}),this.setState(i)}},{key:"getButtonText",value:function(){return p.a._("Continue","Continue button on web")}},{key:"handleBlur",value:function(e){"id"===e?this.setState({emailValidationError:null}):"age"===e&&this.setState({ageValidationError:null}),this.setState({facebookValidationError:null,googleValidationError:null})}},{key:"handleLoginFailure",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=this.props,o=n.clearPassword,i=n.email,a=n.onLoginWithMfa;this.contextLogSignupLoginEvent(7535);var r=e.http_status===l.a.RESPONSE_CODE_TOO_MANY_REQUESTS?l.a.RESPONSE_CODE_TOO_MANY_REQUESTS:e.api_error_code;if(r!==l.a.LOGIN_MFA_REQUIRED){var s=R.c.getLoginErrorState(e,"emailPasswordStep",i,w.a,this.updateAccountRecoveryModal);s?(this.setState(N({accountRecoveryModalType:j.a[r]},s)),o&&s.passwordValidationError&&o(),this.setLoadingState(!1)):(p.a._("Sorry! Something went wrong on our end.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user."),Object(k.a)(p.a._("Sorry! Something went wrong on our end.")),this.setLoadingState(!1))}else R.c.handleLoginMfa(t,e.data,a)}},{key:"handleLoginSuccess",value:function(e){this.contextLogSignupLoginEvent(7536),R.c.storeLoginCredentialsToBrowser(e);var t=this.props.showResponseMessageModal;t?t(!1):window.location.reload()}},{key:"login",value:function(e){var t=this;this.setLoadingState(!0);var n=e||{username_or_email:this.props.email,password:this.props.password},o={container:this.props.container,hybridTier:this.context.hybridTier,page:this.context.pageType};Object(g.a)(n,o,this.props.requestContext.seoUnauthExperiments).then((function(){t.handleLoginSuccess(n)}),(function(e){e.api_error_code===l.a.INVALID_PASSWORD_ERROR_CODE?(t.setState({passwordValidationError:e.message}),t.setLoadingState(!1)):e.api_error_code===l.a.INVALID_PASSWORD_FB_USER?(t.setState({facebookValidationError:e.message}),t.setLoadingState(!1)):e.api_error_code===l.a.INVALID_PASSWORD_GOOGLE_USER?(t.setState({googleValidationError:e.message}),t.setLoadingState(!1)):e.api_error_code===l.a.LOGIN_MFA_REQUIRED?(R.c.storeLoginCredentialsToBrowser(n),t.props.onLoginWithMfa(n,e.data)):(t.setState({emailValidationError:e.message}),t.setLoadingState(!1))}))}},{key:"contextLogSignupLoginEvent",value:function(e){var t=this.props.viewer;t.isAuth?Object(P.a)(e,{login_state:t.isLimitedLogin?2:1,signup_login_method:1}):Object(P.a)(e,{signup_login_method:1})}},{key:"validateEmailAvailable",value:function(e){var t=this;this.setLoadingState(!0);var n=this.context,o=n.hybridTier,i=n.pageType,a=this.props,r=a.container,s=a.email,l=a.password,c=a.requestContext.seoUnauthExperiments;this.checkEmailExistsWithCompletion(s,(function(){var e={username_or_email:s,password:l},n={container:r,hybridTier:o,page:i};Object(g.a)(e,n,c).then((function(n){t.handleLoginSuccess(e)}),(function(n){t.handleLoginFailure(n,e)})),t.contextLogSignupLoginEvent(7534)}),(function(){if(!t.validateAgeRequirement()&&!t.validatePasswordRequirement()){if(function(e){var t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){var n=t[1],o=n&&-1!==n.indexOf(".")?n.split("."):[];if(o.length>=2&&"gmail"===o[0]&&"com"!==o.slice(1).join("."))return!0;var i=Object(d.a)(n,"gmail.com");if("g"===n.charAt(0)&&(1===i||2===i))return!0}return!1}(s))return t.setLoadingState(!1),void t.setState({emailFieldHasError:!0});t.completeRegistration(e)}}))}},{key:"render",value:function(){var e=this.props,t=e.additionalChildren,n=e.dark,o=z.signupContainer,a=i.a.createElement(j.b,{modalType:this.state.accountRecoveryModalType,updateAccountRecoveryModal:this.updateAccountRecoveryModal,email:this.props.email,onLoginWithMfa:this.props.onLoginWithMfa,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated});return i.a.createElement("div",{style:o},a,this.renderButtons(),i.a.createElement(S.a,{dark:n}),t)}}])&&V(n.prototype,o),a&&V(n,a),t}(o.Component);H.contextTypes={country:f.a.string,hybridTier:f.a.string,pageType:f.a.string};var K=Object(I.compose)(F.e,Object(a.connect)((function(e,t){return{viewer:e.viewer,prevEmailTaken:!!t.loggedOutUserInfo&&t.loggedOutUserInfo.emailTaken}}),(function(e,t){return{setEmailTaken:function(t){return e(Object(E.a)(t))}}})),L.withRouter)(H),Y=n("3NaU");function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return oe}));var te={signup:{margin:"0 auto",position:"relative",textAlign:"center"},inputStyleOverrides:{backgroundColor:"#f0f0f0",border:"0px",outline:"none"}},ne=Object.freeze({SIGNUP:"signup"}),oe=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return o=this,n=!(i=(e=Q(t)).call.apply(e,[this].concat(r)))||"object"!==J(i)&&"function"!=typeof i?$(o):i,ee($($(n)),"state",{step:ne.SIGNUP}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,e),n=t,(o=[{key:"showStep",value:function(e){var t=this;if(e===ne.SIGNUP)return i.a.createElement(Y.a,null,(function(e){var n=e.tokenV3,o=e.refreshToken;return i.a.createElement(K,{additionalChildren:t.props.additionalEmailPasswordChildren,age:t.props.age,container:t.props.container,dark:t.props.dark,disablePostSignupNextUrl:t.props.disablePostSignupNextUrl,email:t.props.email,emailValidationError:t.props.emailValidationError,setWelcomeBackMessageForExistingEmail:t.props.setWelcomeBackMessageForExistingEmail,loadingIndicatorCallback:t.props.loadingIndicatorCallback,name:t.props.name,nextUrlParam:t.props.nextUrlParam,passwordValidationError:t.props.passwordValidationError,inputStyleOverrides:te.inputStyleOverrides,onAgeChange:t.props.onAgeChange,onFBPhoneOnlyConnectVerified:t.props.onFBPhoneOnlyConnectVerified,onEmailChange:t.props.onEmailChange,onFBEmailDeniedPerm:t.props.onFBEmailDeniedPerm,onSocialConnectVerified:t.props.onSocialConnectVerified,onLoginWithMfa:t.props.onLoginWithMfa,onPasswordChange:t.props.onPasswordChange,password:t.props.password,setNameFromEmail:t.props.setNameFromEmail,showLoginWelcomeLoadingFn:t.props.showLoginWelcomeLoadingFn,showSignupWelcomeLoadingFn:t.props.showSignupWelcomeLoadingFn,signupSeparatorContinuous:t.props.signupSeparatorContinuous,signupSource:t.props.signupSource,sm:t.props.sm,suppressFocus:t.props.suppressFocus,clearPassword:t.props.clearPassword,onShowRegisterForm:t.props.onShowRegisterForm,showResponseMessageModal:t.props.showResponseMessageModal,recaptchaTokenV3:n,refreshRecaptchaTokenV3:o})}))}},{key:"render",value:function(){return i.a.createElement("div",{"data-test-id":"signup",style:te.signup},this.showStep(this.state.step))}}])&&X(n.prototype,o),a&&X(n,a),t}(o.Component);ee(oe,"defaultProps",{dark:!0})},weew:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o);t.a=function(e,t,n){var o,a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s="M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",l=i.a.createElement("circle",{cx:"38",cy:"38",fill:"white",r:"40"});return o=t?"-3 -3 82 82":"3 3 70 70",a=n||"#e60023",r?i.a.createElement("svg",{height:e,viewBox:o,width:e},t?l:null,i.a.createElement("path",{d:s,fill:a,fillRule:"evenodd"})):i.a.createElement("svg",{height:e,style:{display:"block"},viewBox:o,width:e},t?l:null,i.a.createElement("path",{d:s,fill:a,fillRule:"evenodd"}))}}}]);
//# sourceMappingURL=pjs-9-10450d1fd8b7155408e3.js.map
