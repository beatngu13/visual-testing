(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["BusinessAccountLoginPageDesktop~FullPageSignup~LoginPageDesktop~LoginPageSterling~PersonalizedLoginF~85b9c608"],{"2Uh4":function(e,t,o){"use strict";var n=o("B8/j"),a=o("ePT2"),i=o("NmcB");t.a=function(e){var t=e.usernameOrEmail,o=e.logOptions,r=e.callBack,s=e.ErrorCallback;o&&Object(i.a)(n.a.requestEnd,o),a.a.create("UserResetPasswordResource",{username_or_email:t}).callCreate({showError:!1}).then((function(e){o&&Object(i.a)(n.a.request,o),r&&r()}),(function(e){s&&s(e)}))}},"B8/j":function(e,t,o){"use strict";t.a={request:51,requestBegin:6935,requestEnd:6936}},CBQr:function(e,t,o){"use strict";var n=o("GyhR"),a=o.n(n),i=o("VSY/"),r=o("D+W/"),s=o("Qo1m"),l=o("hvnN"),c=o.n(l);function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){d(e,t,o[t])}))}return e}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={tosContainer:{marginTop:"15px"},tosCommon:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"11px",fontWeight:"normal",textAlign:"center",WebkitTransition:"opacity .2s linear",transition:"opacity .2s linear"},tosLarge:{color:"#333",fontSize:"12px",lineHeight:"12px"},tosDark:{color:"#aaa",width:"224px"},tosLight:{color:"rgba(255,255,255,0.9)",lineHeight:"150%",margin:"10px auto",textShadow:"0 1px rgba(0,0,0,0.18)",width:"272px"}};function g(e,t){var o=r.a.GEN.templateConst.settings.EU_COUNTRIES,n=u({},p.tosCommon,p.tosDark);e.dark||(n=u({},p.tosCommon,p.tosLight));var l,c=e.noContainer?{}:p.tosContainer;return e.dynamicTopMargin&&(c=u({},c,{marginTop:"3%"})),e.disableWordBreak&&(c=u({},c,{hyphens:"none"})),e.large&&(n=u({},n,p.tosLarge)),l=o.indexOf(t.country)>-1?i.c(s.a._('By continuing, you agree to Pinterest\'s <a data-test-id="tos" href="{{ tos_url }}">Terms of Service</a>, <a data-test-id="privacy" href="{{ privacy_policy_url }}">Privacy Policy</a> and <a href="{{ cookie_url }}"> Cookie use</a>.'),{tos_url:r.a.GEN.templateConst.settings.ABOUT_TERMS_PLAIN_URL,privacy_policy_url:r.a.GEN.templateConst.settings.ABOUT_PRIVACY_PLAIN_URL,cookie_url:r.a.GEN.templateConst.settings.ABOUT_COOKIE_URL}):i.c(s.a._('By continuing, you agree to Pinterest\'s <a data-test-id="tos" href="{{ tos_url }}" target="_blank" >Terms of Service</a>, <a data-test-id="privacy" href="{{ privacy_policy_url }}" target="_blank">Privacy Policy</a>'),{tos_url:r.a.GEN.templateConst.settings.ABOUT_TERMS_PLAIN_URL,privacy_policy_url:r.a.GEN.templateConst.settings.ABOUT_PRIVACY_PLAIN_URL}),a.a.createElement("div",{style:c},a.a.createElement("span",{className:e.dark?"":"TermsOfService__light",style:n},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:l}})))}g.contextTypes={country:c.a.string.isRequired},t.a=g},GCCY:function(e,t,o){"use strict";var n=o("GyhR"),a=o.n(n),i=o("Ivf5"),r=o("+aUF"),s=o("D+W/"),l=o("/TEi"),c=o("Qo1m"),u=o("3nbW"),d=o("i7XF"),p=o("hvnN"),g=o.n(p),m=o("tQ9o"),h=o("ggpB"),f=o("7M64"),_=o("E56J"),b=o("+U6O");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var S="google_auth_id_token",C="google_auth_first_name",L={container:{__style:{backgroundColor:"white",borderRadius:"8px",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1}},msWebview:{height:"100%",width:"100%"}},R=function(){return"undefined"!=typeof window?"".concat(window.location.origin,"/connect/gplus/"):""},x=function(e){function t(){var e,o,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=this,a=(e=E(t)).call.apply(e,[this].concat(r)),o=!a||"object"!==w(a)&&"function"!=typeof a?k(n):a,O(k(k(o)),"state",{googleSignWebviewSource:R()}),O(k(k(o)),"handleMsWebViewScriptNotify",(function(e){if("success"===e.value){var t=o.props,n=t.onDismiss,a=t.onSignInCallback,i=window.localStorage.getItem(S),r=window.localStorage.getItem(C);window.localStorage.removeItem(S),window.localStorage.removeItem(C),_.a.increment("windows.google.connect.handleMsWebViewScriptNotify.success"),a({access_token:"",code:"",expires_at:"",id_token:i,status:{signed_in:!0},first_name:r},!1,window.gapi,"windows"),n()}else"failure"===e.value&&(_.a.increment("windows.google.connect.handleMsWebViewScriptNotify.failure"),o.props.onError())})),O(k(k(o)),"msWebViewRef",(function(e){e&&e.addEventListener("MSWebViewScriptNotify",o.handleMsWebViewScriptNotify)})),o}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),o=t,(n=[{key:"render",value:function(){var e=this.props.onDismiss,t=this.state.googleSignWebviewSource;return a.a.createElement(b.b,{display:"flex",position:"fixed",dangerouslySetInlineStyle:L.container,direction:"column",height:"800px",padding:1,width:"500px"},a.a.createElement(b.b,{alignItems:"end",display:"flex",height:"35px",justifyContent:"end"},a.a.createElement(b.n,{accessibilityLabel:c.a._("Cancel Google Sign-In","Accessibility label for Google Sign-In Dialog bog"),onClick:e,icon:"cancel"})),a.a.createElement(b.b,{flex:"grow"},a.a.createElement("x-ms-webview",{style:L.msWebview,ref:this.msWebViewRef,src:t})))}}])&&y(o.prototype,n),i&&y(o,i),t}(n.Component),P=o("afZw"),T=o("rlRx"),A=o("9Y9K"),j=o("08qL"),I=o("hrsr"),B=o("QWmP"),N=o("k9eC"),M=o("NmcB"),W=o("JsRk"),F=o("cEhz"),D=o("2rhI"),G=o("2YES");function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){J(e,t,o[t])}))}return e}function Y(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,"a",(function(){return X}));var K={button:{padding:"1px",marginRight:"0px",textAlign:"left",backgroundClip:"padding-box",display:"block",transition:"opacity .2s linear",position:"relative",outline:"none",width:"100%",marginTop:"0px",backgroundColor:"#4285f4",height:"40px",borderRadius:"2px"},icon:{borderRadius:"2px",backgroundColor:"#fff",display:"inline-block",height:"25px",marginLeft:"7px",textAlign:"center",width:"25px"},iconContainer:{position:"relative",margin:"auto",marginTop:"2px"},text:{color:"#fff",display:"inline-block",fontFamily:j.b,position:"absolute",textAlign:"center",top:"50%",transform:"translateY(-50%)",verticalAlign:"top",WebkitFontSmoothing:"auto",width:"83%"},tooltip:{top:"12px",left:"100%",position:"absolute"}},Q="profile email",X="google",Z="signin_render",$="signin_auth2",ee=function(){return"undefined"!=typeof window&&void 0!==window.Windows},te=function(e){function t(){var e,o,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,u=new Array(r),p=0;p<r;p++)u[p]=arguments[p];return n=this,i=(e=q(t)).call.apply(e,[this].concat(u)),o=!i||"object"!==V(i)&&"function"!=typeof i?H(n):i,J(H(H(o)),"state",{showGoogleSigninWebview:!1}),J(H(H(o)),"onSignInCallback",(function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Z,i=o.props,r=i.requestContext,l=i.showLoginWelcomeLoadingFn,u={gplus_id_token:e.id_token,gplus_access_token:e.access_token,gplus_expires_at:e.expires_at},d=e.status;if(d.signed_in){if(l){var p=new N.c(r,"web_login_welcome_google").enabled();r.experiments.flush(),p&&l(!0)}Object(h.a)("unauth_web.google_connect.success.".concat(a)),o.login(u).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o.props.isAccountSwitch&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){var n=e.resource_response.data.user;Object(T.b)(n,X,o.props.container)}t&&(Object(h.a)("autologin.google"),Object(h.a)("autologin.google_connect_button")),o.onLoginSuccess()}),(function(t){if(l&&l(!1),t.api_error_code===s.a.LOGIN_VOLUNTARILY_DEACTIVATED_USER)o.props.onLoginWithVoluntarilyDeactivated&&o.props.onLoginWithVoluntarilyDeactivated(t);else if(t.api_error_code===s.a.LOGIN_MFA_REQUIRED)o.props.onLoginWithMfa&&o.props.onLoginWithMfa(u,t.data);else if(t.api_error_code===s.a.LOGIN_USER_NOT_FOUND){if(o.props.preventRegister)return void o.props.preventRegister(X);o.onLoginError(t,e,n)}else t&&t.api_error_code&&Object(h.a)("google_connect_button.failed_login.".concat(t.api_error_code,".").concat(a)),t.api_error_code===s.a.POLICY_VIOLATION_USER&&o.props.onLoginWithSuspended?o.props.onLoginWithSuspended():Object(B.a)(c.a._("Sorry, we can't log you in.","error message when user failed to login caused by suspend/deactivated etc."))}))}else{var g=e?e.error:"unknown";Object(h.a)("unauth_web.google_connect.failure.".concat(String(g),".").concat(a))}})),J(H(H(o)),"onLoginSuccess",(function(){var e=o.props.showResponseMessageModal;e?e(!1):d.c.handleRedirect(o.props.nextUrlParam||window.location.pathname)})),J(H(H(o)),"shouldRequireAge",(function(){var e=o.context.country;return Object(D.d)(e)||Object(D.c)(e)})),J(H(H(o)),"handleGoogleConnectButtonClick",(function(){l.a.get((function(e){Object(I.a)((function(e){return Object(h.a)("unauth_web.google_connect.init.".concat(e))})).then((function(t){ee()&&o.setState({showGoogleSigninWebview:!0}),Object(P.a)(o.props.requestContext)&&(Object(h.a)("unauth_web.google_connect.init.".concat($)),t.signIn({scope:Q}).then((function(t){Object(h.a)("unauth_web.google_connect.success.".concat($));var n=U({},t.getAuthResponse(),{code:""},{status:{signed_in:!0}});o.onSignInCallback(n,!1,e,$)}),(function(e){var t=e.error;Object(h.a)("unauth_web.google_connect.failure.".concat(String(t),".").concat($))})))}),(function(e){Object(h.a)("unauth_web.google_connect.error.auth2_sdk_init_error")})).catch((function(e){Object(h.a)("unauth_web.gapi_auth2_load.error.".concat(e||"unknown")),Object(B.a)(c.a._("Sorry, you need to select an account if you want to log in with Google.","error message when user failed to login/signup because they did not complete the Google step."))}))}))})),J(H(H(o)),"handleOnDimisssWindowsPWAWebview",(function(){o.setState({showGoogleSigninWebview:!1})})),J(H(H(o)),"handleOnErrorWindowsPWAWebview",(function(){o.setState({showGoogleSigninWebview:!1}),Object(B.a)(c.a._("Sorry, there was an error signing in with Google.","error message when user failed to login/signup using Google sign-in."))})),J(H(H(o)),"handleSignupSuccess",(function(){var e=o.props,t=e.disablePostSignupNextUrl,n=e.nextUrlParam,a=e.showResponseMessageModal;o.contextLogSignupLoginEvent(7487),a?a(!0):d.c.handleSignupRedirect(n,t)})),J(H(H(o)),"handleSignupFailure",(function(){o.contextLogSignupLoginEvent(7488)})),J(H(H(o)),"renderTooltip",(function(e){return e?a.a.createElement("div",{style:K.tooltip},a.a.createElement(m.a,{message:e})):null})),o}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),o=t,(n=[{key:"componentDidMount",value:function(){var e=this;"undefined"!=typeof window&&(window.googleOnSignInCallbacks?window.googleOnSignInCallbacks.push(this.onSignInCallback):window.googleOnSignInCallbacks=[this.onSignInCallback]),this.readyForConnect=!1,this.autoLogin=!1,ee()||l.a.get((function(t){e._googleCallback(t)})),window.googleConnectButtonContainer=this.props.container?this.props.container:""}},{key:"componentWillUnmount",value:function(){if("undefined"!=typeof window&&window.googleOnSignInCallbacks){var e=window.googleOnSignInCallbacks.indexOf(this.onSignInCallback);e>=0&&window.googleOnSignInCallbacks.splice(e,1)}delete window.googleConnectButtonContainer}},{key:"onLoginError",value:function(e,t,o){var n=this.props,a=n.onSocialConnectVerified,i=n.requestContext,r=n.showSignupWelcomeLoadingFn,s=n.showResponseMessageModal,l=U({gplus_code:t.code,gplus_id_token:t.id_token,gplus_redirect_uri:"postmessage"},void 0!==t.first_name?{gplus_first_name:t.first_name}:{}),c={container:window.googleConnectButtonContainer,hybridTier:this.context.hybridTier,page:this.context.pageType};if(a&&this.shouldRequireAge())a(D.a.GOOGLE,{},U({},l,c));else{var u=new N.c(i,"web_unauth_gplus_welcome_v2").enabled();i.experiments.flush(),!s&&r&&u&&r(!0),f.a.register(U({},l,c,{recapToken:null})).then(this.handleSignupSuccess,this.handleSignupFailure)}}},{key:"_googleCallback",value:function(e){Object(P.a)(this.props.requestContext)||e.signin.render(this.googleButton,{scope:Q,clientid:s.a.GEN.templateConst.settings.GPLUS_CLIENT_ID,apppackagename:s.a.GEN.templateConst.settings.GPLUS_APP_PACKAGE_NAME,redirecturi:"postmessage",accesstype:"offline",cookiepolicy:"single_host_origin",callback:function(t){this.readyForConnect&&window.googleOnSignInCallbacks&&window.googleOnSignInCallbacks[window.googleOnSignInCallbacks.length-1]&&window.googleOnSignInCallbacks[window.googleOnSignInCallbacks.length-1](t,this.autoLogin,e),this.readyForConnect=!0,this.autoLogin=!1}.bind(this)})}},{key:"contextLogSignupLoginEvent",value:function(e){var t=this.props.viewer;t.isAuth?Object(M.a)(e,{login_state:t.isLimitedLogin?2:1,signup_login_method:3}):Object(M.a)(e,{signup_login_method:3})}},{key:"login",value:function(e){var t={container:window.googleConnectButtonContainer,hybridTier:this.context.hybridTier,page:this.context.pageType};return Object(u.a)(e,t,this.props.seoUnauthExperiments,this.props.isAccountSwitch)}},{key:"logo",value:function(e){return a.a.createElement("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),a.a.createElement("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),a.a.createElement("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),a.a.createElement("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),a.a.createElement("path",{d:"M20 20h472v472H20V20z"})))}},{key:"render",value:function(){var e=this,t=this.props,o=t.inline,n=t.styleOverrides,i=this.state.showGoogleSigninWebview,s=K.button;o&&(s=U({},s,{width:"48%",display:"inline-block"})),n&&n.button&&(s=U({},s,n.button));var l=U({},K.icon,n&&n.icon||{}),u=U({},K.text,n&&n.text||{}),d=c.a._("Continue with Google");return a.a.createElement(a.a.Fragment,null,a.a.createElement(r.a,{id:"googleConnectButton",buttonRef:function(t){e.googleButton=t},className:"GoogleConnectButton",onClick:this.handleGoogleConnectButtonClick,styleOverrides:s,type:"button"},a.a.createElement("div",{style:l},a.a.createElement("div",{style:K.iconContainer},this.logo(20))),a.a.createElement("span",{style:u},d),this.renderTooltip(this.props.tooltip)),i&&ee()&&a.a.createElement(x,{onDismiss:this.handleOnDimisssWindowsPWAWebview,onError:this.handleOnErrorWindowsPWAWebview,onSignInCallback:this.onSignInCallback}))}}])&&Y(o.prototype,n),i&&Y(o,i),t}(n.Component);J(te,"defaultProps",{inline:!1});te.contextTypes={country:g.a.string,hybridTier:g.a.string,pageType:g.a.string};t.b=Object(A.compose)(G.e,Object(i.connect)((function(e){return{viewer:e.viewer}})),F.b,W.withRouter)(te)},"M8i/":function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var n=o("GyhR"),a=o("ulrk"),i=o("Qo1m"),r=o("dsfX"),s=o("Irlq"),l=o("WH5r"),c=o("+U6O");function u(e){var t=e.onClose,o=i.a._("Your account is suspended for violating our community guidelines. We previously sent you an email explaining why and how to appeal. If you have questions, {{ help_link }}."),u=i.a._("Your account is suspended for violating our community guidelines. If you have questions, {{ help_link }}."),d=o||u;return n.createElement(r.b,{accessibilityCloseLabel:i.a._("close","accessible label for button to close modal"),accessibilityModalLabel:i.a._("Login disabled for suspended account","Modal accessibility label for when a user tries to login with a suspended account"),heading:i.a._("Your account has been suspended","Modal heading for user who have attempted to login with a suspended account"),onDismiss:t,role:"alertdialog",size:"md"},n.createElement(c.b,{paddingX:6,marginBottom:4},n.createElement(c.b,{marginBottom:4},n.createElement(c.J,{inline:!0,leading:"tall"},Object(s.b)(d,{help_link:n.createElement(l.a,{key:"suspended user help_link"})}))),n.createElement(c.b,{marginTop:4},n.createElement(a.a,{color:"red",onClick:t,overrideText:i.a._("Got it","Acknowledge suspended account modal message")}))))}},MDr3:function(e,t,o){"use strict";var n=o("GyhR"),a=o.n(n),i=o("D+W/"),r=o("IItM"),s=o("Qo1m"),l=o("ulrk"),c=o("dsfX"),u=o("2Uh4"),d=o("+U6O");function p(e){var t=s.a._("Reset password","Request a password reset email");return a.a.createElement(d.c,{accessibilityLabel:t,color:e.color||"red",inline:e.inline,onClick:function(){Object(u.a)({usernameOrEmail:e.email,callBack:e.callBack})},text:e.overrideText||t})}var g=o("Irlq");function m(e){var t=e.email,o=e.onClose,a=e.onPasswordResetSent,i=e.socialButtons;return n.createElement(c.b,{accessibilityCloseLabel:s.a._("close","accessible label for button to close modal"),accessibilityModalLabel:s.a._("Login with Facebook or Google?","Modal accessibility label for when a user has failed login three times"),heading:s.a._("Looks like you’re having trouble logging in","Modal heading for user who have attempted to login three times"),onDismiss:o,role:"alertdialog",size:"md"},n.createElement(d.b,{paddingX:6,marginBottom:4},n.createElement(d.b,null,n.createElement(d.J,null,Object(g.b)(s.a._("We sent an email to {{ email }} to help you get back in.",""),{email:n.createElement(d.J,{inline:!0,bold:!0,key:"emailAddress"},t)})),n.createElement(d.b,{paddingY:3},n.createElement(p,{inline:!0,color:"gray",email:t,callBack:a,overrideText:s.a._("Resend email","Button to allow the user to request a password reset email")}))),n.createElement(d.b,{marginBottom:4},n.createElement(d.J,null,s.a._("Or log in with Facebook or Google.","Upsell to use Facebook or Google for login"))),i,n.createElement(d.b,{marginTop:4},n.createElement(l.a,{onClick:o}))))}function h(e){var t=e.email,o=e.onClose,a=e.onPasswordResetSent,i=e.socialButtons;return n.createElement(c.b,{accessibilityCloseLabel:s.a._("close","accessible label for button to close modal"),accessibilityModalLabel:s.a._("Login limit reached","Modal accessibility label for users who have been login rate limited"),heading:s.a._("Oops! Too fast","Modal heading for user who have been login rate limited"),onDismiss:o,role:"alertdialog",size:"md"},n.createElement(d.b,{paddingX:6,marginBottom:4},n.createElement(d.b,{marginBottom:4,width:"100%",overflow:"hidden"},n.createElement(d.J,{inline:!0,leading:"tall"},s.a._("It looks like you’re logging in a lot. Log in with Facebook or Google if you’re connected, or reset your password. Or you can wait 30 minutes and try again.","Statement that the users is login limited"))),n.createElement(d.b,{marginBottom:4},n.createElement(d.J,null,s.a._("Or log in with Facebook or Google.","Upsell to use Facebook or Google for login"))),n.createElement(p,{email:t,callBack:a}),i,n.createElement(d.b,{marginTop:4},n.createElement(l.a,{onClick:o,overrideText:s.a._("I’ll wait","Button text acknowledging login rate limiting")}))))}var f=o("1JxL");function _(e){var t=e.email,o=e.loginWith,a=e.onClose,i=e.onPasswordResetSent;e.socialButtons;return n.createElement(c.b,{accessibilityCloseLabel:s.a._("close","accessible label for button to close modal"),accessibilityModalLabel:s.a._("No matching account","Modal accessibility label for account recovery"),heading:s.a._("Oops! Something went wrong","Modal heading"),onDismiss:a,role:"alertdialog",size:"md"},n.createElement(d.b,{paddingX:6,marginBottom:4},n.createElement(d.b,{marginBottom:6},o===f.a?n.createElement(d.J,null,s.a._("We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.","Notice that no Pinterest account exists for the Facebook account used to attempt login")):n.createElement(d.J,null,s.a._("We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.","Notice that no Pinterest account exists for the Facebook account used to attempt login"))),n.createElement(p,{email:t,callBack:i}),n.createElement(d.b,{marginTop:2},n.createElement(l.a,{onClick:a}))))}var b="?source=account_recovery";function w(e){var t=e.email,o=e.onClose,a=e.onPasswordResetSent,r=(e.socialButtons,s.a._("Password reset email sent","Modal label for confirmation of password reset send"));return n.createElement(c.b,{accessibilityCloseLabel:s.a._("close","accessible label for button to close modal"),accessibilityModalLabel:r,heading:r,onDismiss:o,role:"alertdialog",size:"md"},n.createElement(d.b,{paddingX:6,marginBottom:4},n.createElement(d.J,{overflow:"normal"},Object(g.b)(s.a._("We sent instructions to pick a new password to {{ email }}.","Statement that a password reset email has been sent to the user"),{email:n.createElement(d.J,{inline:!0,bold:!0,overflow:"normal",key:"emailAddress"},t)})),n.createElement(d.b,{paddingY:4},n.createElement(p,{inline:!0,color:"gray",email:t,callBack:a,overrideText:s.a._("Resend email","Button to allow the user to request a password reset email")})),n.createElement(d.b,null,n.createElement(d.b,{marginBottom:4},n.createElement(d.J,null,Object(g.b)(s.a._("Didn’t get the email? Try these {{ tips }}","Direction to help center if the password reset email failed"),{tips:n.createElement(d.s,{inline:!0,key:"helpCenterLink",target:"blank",href:i.a.GEN.templateConst.settings.HELP_PASSWORD_RESET_URL+b},n.createElement(d.J,{bold:!0,inline:!0,key:"helpCenter"},s.a._("tips from our Help Center","Link text to go to help center")))}))),n.createElement(d.b,{marginBottom:4},n.createElement(d.J,null,Object(g.b)(s.a._("Not your email address? {{ tryAgain }}","Link to password reset flow for users who make an incorrect password reset request"),{tryAgain:n.createElement(d.s,{inline:!0,key:"passwordResetLink",href:i.a.GEN.templateConst.settings.PASSWORD_RESET_URL},n.createElement(d.J,{bold:!0,inline:!0,key:"tryAgain"},s.a._("Try another","Link text to enter the password reset flow for a different email address/username")))})))),n.createElement(d.b,null,n.createElement(l.a,{color:"red",onClick:o}))))}function y(e){var t=e.email,o=e.onClose,a=e.onPasswordResetSent,i=e.socialButtons;return n.createElement(c.b,{accessibilityCloseLabel:s.a._("close","accessible label for button to close modal"),accessibilityModalLabel:s.a._("Recover your account","Modal accessibility label for account recovery"),heading:s.a._("We protected your account","Modal heading for user who need to recover their accounts"),onDismiss:o,role:"alertdialog",size:"md"},n.createElement(d.b,{paddingX:6,marginBottom:4},n.createElement(d.b,{marginBottom:4},n.createElement(d.J,{inline:!0,leading:"tall"},s.a._("We noticed some strange activity on your Pinterest account so we reset your password and logged everyone out (including you).","Statement that we detected suspicious activity"))),n.createElement(d.b,{marginBottom:4},n.createElement(d.J,null,s.a._("Reset your password or log in with Facebook or Google to get back into your account","Prompt to take action to reset password or upsell login with Facebook/Google"))),n.createElement(p,{email:t,callBack:a}),i,n.createElement(d.b,{marginTop:4},n.createElement(l.a,{onClick:o}))))}var E,v=o("M8i/"),k=o("KCDi"),O=o("GCCY"),S=o("i7XF");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,"a",(function(){return A})),o.d(t,"b",(function(){return j}));var A=(T(E={},i.a.API_LIMIT_EXCEEDED_ERROR,S.b.RATE_LIMITED),T(E,i.a.API_EVENT_BLOCKED_ERROR,S.b.RATE_LIMITED),T(E,i.a.USER_IN_SAFE_MODE,S.b.SOFT_BANNED),T(E,i.a.POLICY_VIOLATION_USER,S.b.SUSPENDED),T(E,i.a.LOGIN_BAD_PASSWORD_ASK_RESET,S.b.LOGIN_ASSISTANCE),T(E,i.a.LOGIN_HARD_BANNED_USER,S.b.SOFT_BANNED),T(E,i.a.RESPONSE_CODE_TOO_MANY_REQUESTS,S.b.RATE_LIMITED),E),j=function(e){function t(){var e,o,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return a=this,i=(e=R(t)).call.apply(e,[this].concat(c)),o=!i||"object"!==C(i)&&"function"!=typeof i?P(a):i,T(P(P(o)),"state",{showToast:!1}),T(P(P(o)),"dismissModal",(function(){o.props.updateAccountRecoveryModal(null)})),T(P(P(o)),"showPasswordResetSent",(function(){return o.props.updateAccountRecoveryModal(S.b.PASSWORD_RESET_SENT)})),T(P(P(o)),"showLoginWithFailed",(function(e){e===f.a?o.props.updateAccountRecoveryModal(S.b.PREVENT_FACEBOOK_REGISTER):e===O.a&&o.props.updateAccountRecoveryModal(S.b.PREVENT_GOOGLE_REGISTER)})),T(P(P(o)),"toggleToast",(function(){return o.setState((function(e){return{showToast:!e.showToast}}))})),T(P(P(o)),"renderSocialButtons",(function(){return n.createElement(d.b,null,n.createElement(f.b,{buttonText:s.a._("Continue with Facebook","Facebook login button text"),container:r.a.ACCOUNT_RECOVERY,disablePostSignupNextUrl:!0,onLoginWithMfa:o.props.onLoginWithMfa,onLoginWithSuspended:o.props.onLoginWithSuspended,showFallback:!0,preventRegister:o.showLoginWithFailed}),n.createElement(d.b,{marginTop:1},n.createElement(O.b,{container:r.a.ACCOUNT_RECOVERY,disablePostSignupNextUrl:!0,onLoginWithMfa:o.props.onLoginWithMfa,onLoginWithSuspended:o.props.onLoginWithSuspended,preventRegister:o.showLoginWithFailed,onLoginWithVoluntarilyDeactivated:function(e){o.dismissModal(),o.props.onLoginWithVoluntarilyDeactivated&&o.props.onLoginWithVoluntarilyDeactivated(e)}})))})),o}var o,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),o=t,(a=[{key:"render",value:function(){var e=this.props,t=e.email,o=e.modalType,a={email:t,onClose:this.dismissModal,onPasswordResetSent:this.showPasswordResetSent,socialButtons:this.renderSocialButtons()};switch(o){case S.b.SUSPENDED:return n.createElement(v.a,{onClose:this.dismissModal});case S.b.LOGIN_ASSISTANCE:return n.createElement(m,a);case S.b.RATE_LIMITED:return n.createElement(h,a);case S.b.SOFT_BANNED:return n.createElement(y,a);case S.b.PREVENT_FACEBOOK_REGISTER:return n.createElement(_,Object.assign({},a,{loginWith:f.a}));case S.b.PREVENT_GOOGLE_REGISTER:return n.createElement(_,Object.assign({},a,{loginWith:O.a}));case S.b.PASSWORD_RESET_SENT:return n.createElement(n.Fragment,null,n.createElement(w,Object.assign({},a,{onPasswordResetSent:this.toggleToast})),this.state.showToast&&n.createElement(d.b,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed"},n.createElement(k.a,{onHide:this.toggleToast,text:s.a._("Email sent!"),duration:3500})));default:return null}}}])&&L(o.prototype,a),i&&L(o,i),t}(n.Component)},MLP8:function(e,t,o){"use strict";function n(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var o,n,a=[];for(o=0;o<=t.length;o+=1)a[o]=[o];for(n=0;n<=e.length;n+=1)a[0][n]=n;for(o=1;o<=t.length;o+=1)for(n=1;n<=e.length;n+=1)t.charAt(o-1)===e.charAt(n-1)?a[o][n]=a[o-1][n-1]:a[o][n]=Math.min(a[o-1][n-1]+1,Math.min(a[o][n-1]+1,a[o-1][n]+1));return a[t.length][e.length]}o.d(t,"a",(function(){return n}))},QtSf:function(e,t,o){"use strict";t.a=function(e,t){var o;return t.some((function(t){var n=t(e);return n.errors.length>0&&(o=n.errors[0],!0)})),o}},Ud2L:function(e,t,o){"use strict";var n=o("GyhR"),a=o("D+W/"),i=o("Qo1m"),r=o("2Uh4"),s=o("Mce2"),l=o("ggpB"),c=o("Irlq"),u=o("+U6O");t.a=function(e){var t=e.api_error_code,o=e.errorMessage,d=e.handleTouch,p=(e.source,e.userSearch),g=function(e){return function(e,t,o){return n.createElement("button",{style:{background:"transparent",border:"none",verticalAlign:"inherit",padding:0},type:"button",onClick:function(){Object(l.a)("unauth_password_reset_link_tapped"),Object(r.a)({usernameOrEmail:t,callBack:o})}},n.createElement(u.J,{bold:!0,inline:!0,color:"red",size:"sm",key:"err_text"},e))}(e,p,d)},m=function(e){switch(e){case a.a.API_EVENT_BLOCKED_ERROR:case a.a.API_LIMIT_EXCEEDED_ERROR:case a.a.RESPONSE_CODE_TOO_MANY_REQUESTS:return Object(c.b)(i.a._("You’ve entered a lot of incorrect passwords. To get back into your account, {{ resetPasswordLink }}. Or you can wait 30 minutes and try again.","Error message when login limited"),{resetPasswordLink:g(i.a._("reset your password","Link text for password reset"))});case a.a.LOGIN_HARD_BANNED_USER:case a.a.USER_IN_SAFE_MODE:return Object(c.b)(i.a._("We noticed some strange activity on your account.  {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.","Error message when user is soft banned"),{resetPasswordLink:g(i.a._("Reset your password","Link text for password reset"))});case a.a.INVALID_PASSWORD_GOOGLE_USER:return Object(c.b)(i.a._("Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}"),{resetPasswordLink:g(i.a._("set a password.","Link text to set password for user with account with only google auth"))});case a.a.INVALID_PASSWORD_FB_USER:return Object(c.b)(i.a._("Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}"),{resetPasswordLink:g(i.a._("set a password.","Link text to set password for user with account with only facebook auth"))});case a.a.INVALID_PASSWORD_ERROR_CODE:return Object(c.b)(i.a._("The password you entered is incorrect. Try again or {{ resetPasswordLink }}"),{resetPasswordLink:g(i.a._("Reset your password","Link text for password reset"))});default:return[o]}}(t);return n.createElement(s.a,{id:"touchableErrorMessage"},m.map((function(e,t){return n.createElement(u.J,{inline:!0,color:"red",size:"sm",key:"err_message_".concat(t)},e)})))}},WH5r:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o("GyhR"),a=o.n(n),i=o("Qo1m"),r=o("+U6O"),s=function(){return a.a.createElement(r.s,{inline:!0,href:"https://help.pinterest.com/login-request?what_do_you_need_help_with=Getting+into+my+account&tell_more_account_access=Appeal+account+suspension"},i.a._("get in touch with us","link text shown to redirect to help.pinterest.com for appealing a suspension"))}},bvxc:function(e,t,o){"use strict";var n=o("GyhR"),a=o.n(n),i=o("Ivf5"),r=o("GIJk"),s=o("D+W/"),l=o("Fpqi"),c=o("Qo1m"),u=o("3nbW"),d=o("cqmR"),p=o("hvnN"),g=o.n(p),m=o("wFAD"),h=o("ePT2"),f=o("QtSf"),_=o("PhUE"),b=o("CBQr"),w=o("Ud2L"),y=o("ggpB"),E=o("rlRx"),v=o("08qL"),k=o("9Y9K"),O=(o("YSek"),o("QWmP")),S=o("k9eC"),C=o("NmcB"),L=o("m3Ge"),R=o("JsRk"),x=o("MDr3"),P=o("1JxL"),T=o("GCCY"),A=o("i7XF"),j=o("ovu7");function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){D(e,t,o[t])}))}return e}function N(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var G=s.a.GEN.templateConst.settings.PASSWORD_RESET_URL,V="loginmodal",U="email",Y="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1",q="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",z={emailButtonStyles:{height:"40px",width:"100%",borderRadius:"2px"},emailButtonTextStyles:{fontFamily:v.a,textAlign:"center",fontSize:"15px",WebkitFontSmoothing:"auto"},spaceBetweenTextAndSocial:{height:"11px"},passwordLinkContainer:{float:"left",marginBottom:"8px",marginTop:"4px"},loginForm:{borderTop:"solid 1px #ccc",minHeight:"350px",padding:"20px 10px"},loginTitleContainer:{margin:"0 auto 25px"},loginTitle:{fontSize:"28px",fontWeight:"bold",letterSpacing:"-1px"},loginContainer:{margin:"0 auto",width:"268px"},loginFooterContainer:{marginTop:"15px",color:"#333"},socialButtonContainer:{marginTop:"10px"},socialButtonSeparator:{height:"10px"},verticalCenter:{display:"flex",flexDirection:"column",justifyContent:"center"}},H=function(e){function t(e,o){var n,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,l=M(t).call(this,e,o),n=!l||"object"!==I(l)&&"function"!=typeof l?F(i):l,D(F(F(n)),"onLoginWithVoluntarilyDeactivated",(function(e){n.setState({googleValidationError:e.message})})),D(F(F(n)),"onLoginWithSuspended",(function(){var e=n.props,t=e.loadingIndicatorCallback,o=e.showLoginWelcomeLoadingFn;t&&t(!1),o&&o(!1),n.setState({accountRecoveryModalType:x.a[s.a.POLICY_VIOLATION_USER],loading:!1})})),D(F(F(n)),"onloadCallbackV3",(function(){var e=document.getElementsByClassName("grecaptcha-badge")[0];e&&(e.style.visibility="hidden");var t=F(F(n));try{window.grecaptcha.ready((function(){window.grecaptcha.execute(q,{action:"pinterest"}).then((function(e){t.setState({tokenV3:e})}))}))}catch(o){}window.onloadCallbackV3=null})),D(F(F(n)),"onloadCallback",(function(){try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:Y,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:Y,callback:"verifyCaptcha"})}catch(e){}})),D(F(F(n)),"handleButtonClick",(function(e,t,o){Object(y.a)("unauth.login.button.clicked");var a=n.props.viewer,i=d.a.runPhoneValidators(n.props.email,n.context.locale,n._loginFacebookAccountKit.bind(F(F(n))));if(a.isAuth?Object(C.a)(101,{element:30,login_state:a.isLimitedLogin?2:1,signup_login_method:1}):Object(C.a)(101,{element:30,signup_login_method:1}),n.setState({facebookValidationError:null,googleValidationError:null}),i)if(i=Object(f.a)(n.props.email,n.emailValidators))n.setState({emailValidationError:i}),Object(y.a)("unauth.login.error.CLIENT_ERROR.malformemail.".concat(V));else{n.setState({emailValidationError:null}),i=Object(f.a)(n.props.password,n.passwordValidators);var r=Object(f.a)(n.props.password,n.asciiValidators);i?(n.setState({passwordValidationError:i}),Object(y.a)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(V))):r?(n.setState({passwordValidationError:r}),Object(y.a)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(V)),Object(y.a)("unauth.login.error.CLIENT_ERROR.nonasciipwd.".concat(V))):(n.setState({passwordValidationError:null}),n.loginUser(U,void 0,t))}})),D(F(F(n)),"preventRegister",(function(e){e===P.a?n.updateAccountRecoveryModal(A.b.PREVENT_FACEBOOK_REGISTER):e===T.a&&n.updateAccountRecoveryModal(A.b.PREVENT_GOOGLE_REGISTER),n.props.triggerAccountRecoveryMode&&n.props.triggerAccountRecoveryMode(e)})),D(F(F(n)),"updateAccountRecoveryModal",(function(e){return n.setState({accountRecoveryModalType:e})})),D(F(F(n)),"handleLoginFailure",(function(e,t,o){var a=n.props,i=a.clearPassword,r=a.loadingIndicatorCallback,l=a.showLoginWelcomeLoadingFn,u=a.viewer,d=n.getAuxDataLoginMethod(e);Object(y.a)("unauth.login.error.LOGIN_FAILURE.".concat(e)),u.isAuth?Object(C.a)(7535,{login_state:u.isLimitedLogin?2:1,signup_login_method:d}):Object(C.a)(7535,{signup_login_method:d}),r(!1),l&&l(!1);var p=t.http_status===s.a.RESPONSE_CODE_TOO_MANY_REQUESTS?s.a.RESPONSE_CODE_TOO_MANY_REQUESTS:t.api_error_code;if(p!==s.a.LOGIN_MFA_REQUIRED)if(p!==s.a.RESPONSE_CODE_TOO_MANY_REQUESTS||t.api_error_code!==s.a.API_EVENT_BLOCKED_ERROR||!t.message||"!"===t.message[t.message.length-1]||A.c.isExceedRecaptchaLocalLimit()){var g=A.c.getLoginErrorState(t,"login",n.props.email,w.a,n.updateAccountRecoveryModal);g?(n.setState(B({accountRecoveryModalType:x.a[p]},g,{loading:!1})),i&&g.passwordValidationError&&i()):(c.a._("Sorry! Something went wrong on our end.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user."),Object(O.a)(c.a._("Sorry! Something went wrong on our end.")),n.setState({loading:!1}))}else{if(document.getElementById("recaptcha-jssdk"))n.onloadCallback();else{var m=document.createElement("script");m.id="recaptcha-jssdk",m.src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit";var h=document.getElementsByTagName("script")[0];h.parentNode&&h.parentNode.insertBefore(m,h)}n.setState({passwordValidationError:c.a._("Oops! You logged in too quickly. Please try again with the reCAPTCHA.","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha"),loading:!1})}else A.c.handleLoginMfa(o,t.data,n.props.onLoginWithMfa)})),D(F(F(n)),"verifyCaptcha",(function(){var e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);A.c.updateRecaptchaTimeStamp(),n.handleButtonClick(void 0,e),A.c.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))})),D(F(F(n)),"_loginFacebookAccountKit",(function(e){if(d.a.validateResponse(e)){var t={phone_number:n.props.email,fb_auth_code:e.code};Object(y.a)("unauth_phone_only_login_attempt"),n.loginUser(P.a,t)}else n.setState({emailValidationError:c.a._("Enter your email or phone number to try again."),loading:!1})})),D(F(F(n)),"handleEmailChange",(function(e){n.props.onEmailChange&&n.props.onEmailChange(e)})),D(F(F(n)),"handlePasswordChange",(function(e){n.state.passwordValidationError&&n.setState({passwordValidationError:null}),n.props.onPasswordChange&&n.props.onPasswordChange(e)})),D(F(F(n)),"handleBlur",(function(){n.setState({facebookValidationError:null,googleValidationError:null})})),D(F(F(n)),"handleMagicLinkClick",(function(){n.setState({magicLinkLoading:!0});var e=Object(f.a)(n.props.email,n.emailValidators);e?n.setState({emailValidationError:e,magicLinkLoading:!1}):(n.setState({emailValidationError:null}),h.a.create("UserLoginPasswordlessResource",{username_or_email:n.props.email,is_magic_link:!0}).callCreate().then((function(){Object(L.a)("link_send_success",n.props.email,n.props.password),n.setState({magicLinkLoading:!1}),n.props.toggleMagicLinkConfirmation(!0)}),(function(e){var t;Object(L.a)("link_send_failure",n.props.email,n.props.password),t=e.message?c.a._("The email you entered does not belong to any account.","Error message shown when login email does not exist."):c.a._("Sorry! Something went wrong on our end.","error message on login modal telling users we had a problem with their request"),n.setState({emailValidationError:t,magicLinkLoading:!1})})))})),D(F(F(n)),"checkEmailExistsWithCompletion",(function(e,t,o){h.a.create("EmailExistsResource",{email:e}).callGet({showError:!1}).then((function(e){!1===e.resource_response.data?o():t()}))})),D(F(F(n)),"handleExistingEmail",(function(e){n.setState({isExistingEmail:e})})),D(F(F(n)),"renderPasswordResetLink",(function(){var e=n.props,t=e.email,o=e.viewer,i=n.state,r=i.isExistingEmail,s=i.passwordValidationError;return s&&a.a.isValidElement(s)?null:a.a.createElement("div",{style:z.passwordLinkContainer},a.a.createElement("a",{href:G+(t?"?q=".concat(t):""),onClick:function(){r&&Object(y.a)("unauth_web.login_modal.forgot_password_with_existing_email"),Object(y.a)("login_modal_forget_account"),o.isAuth?Object(C.a)(101,{element:10881,login_state:o.isLimitedLogin?2:1}):Object(C.a)(101,{element:10881})}},c.a._("Forgot your password?","Desktop login modal link for users to recover their account")))})),D(F(F(n)),"renderRegisterForm",(function(){var e=n.props,t=e.email,o=e.hideEmailField,i=e.inputStyleOverrides,r=e.isAccountSwitch,s=e.loginButtonTextOverride,l=e.magicLinkGroup,u=e.password,d=s||c.a._("Log in");return a.a.createElement(m.a,{buttonText:d,checkEmailExistsWithCompletion:n.checkEmailExistsWithCompletion,disableEmailLogin:n.props.disableEmailLogin,email:t,emailText:c.a._("Email or phone number"),emailValidationError:n.state.emailValidationError,handleMagicLinkClick:n.handleMagicLinkClick,hideEmailField:o,hidePasswordField:n.props.hidePasswordField,hideFacebookButton:n.props.hideFacebookButton,hideGoogleButton:n.props.hideGoogleButton,inputStyleOverrides:i,loading:n.state.loading&&!r,magicLinkLoading:n.state.magicLinkLoading,magicLinkGroup:l,onButtonClick:n.handleButtonClick,onEmailBlur:n.handleBlur.bind(F(F(n))),onEmailChange:n.handleEmailChange.bind(F(F(n))),onPasswordChange:n.handlePasswordChange,password:u,passwordText:c.a._("Password"),passwordValidationError:n.state.passwordValidationError,renderPasswordResetLink:n.renderPasswordResetLink,handleExistingEmail:n.handleExistingEmail})})),D(F(F(n)),"renderOriginalForm",(function(){return a.a.createElement("div",null,n.renderRegisterForm(),!n.props.hidePasswordField&&(!n.props.hideFacebookButton||!n.props.hideGoogleButton)&&a.a.createElement(r.a,null),n.renderSocialButtons())})),D(F(F(n)),"renderButtons",(function(){return n.renderOriginalForm()})),n.state={accountRecoveryModalType:null,emailValidationError:e.emailValidationError||null,passwordValidationError:e.passwordValidationError||null,facebookValidationError:null,googleValidationError:null,loading:!1,magicLinkLoading:!1,passwordFieldVisible:!1,isExistingEmail:!1,isStopRequest:!1};var u=c.a._("You missed a spot! Don't forget to add your email or phone number."),p=c.a._("Hmm...that doesn't look like an email address or phone number."),g=c.a._("Oh @*&#! No zany characters allowed.");n.emailValidators=[Object(j.p)({message:u}),Object(j.f)({message:p})];var _=c.a._("The password you entered is incorrect.");return n.passwordValidators=[Object(j.n)({shortPassStr:_,badPassStyle:_,samePasswordStr:_,blackPassStr:_})],n.asciiValidators=[Object(j.b)({message:g})],n}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,e),o=t,(n=[{key:"componentDidMount",value:function(){A.c.isFullyLoggedIn(this.context.isAuthenticated,this.context.loginState)&&!this.props.isAccountSwitch&&(this.props.showResponseMessageModal?this.props.showResponseMessageModal(!1):A.c.handleRedirect(this.props.nextUrlParam)),d.a.setupPhoneAuth(this.context.locale),window.onloadCallback=this.onloadCallback,window.onloadCallbackV3=this.onloadCallbackV3,window.verifyCaptcha=this.verifyCaptcha;var e=this.props.requestContext.seoUnauthExperiments.v2ActivateExperiment("recaptcha_v3_enterprise")||"";if(e.startsWith("enabled")||e.startsWith("employees")){var t=document.createElement("script");t.id="recaptchaV3-src",t.src="https://www.google.com/recaptcha/api.js?onload=onloadCallbackV3&render="+q;var o=document.getElementsByTagName("script")[0];o.parentNode&&o.parentNode.insertBefore(t,o)}void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.emailValidationError,o=e.passwordValidationError,n={};t!==this.props.emailValidationError?n={emailValidationError:t}:o!==this.props.passwordValidationError&&(n={passwordValidationError:o}),this.setState(n)}},{key:"componentWillUnmount",value:function(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}},{key:"getAuxDataLoginMethod",value:function(e){return e===P.a?2:e===T.a?3:e===U?1:""}},{key:"loginUser",value:function(e,t,o){var n=this,a=this.props,i=a.container,r=a.hideEmailField,s=a.isAccountSwitch,c=a.requestContext,d=a.showLoginWelcomeLoadingFn,p=a.showResponseMessageModal,g=a.viewer,m=this.state,h=m.isExistingEmail,f=m.tokenV3;if(this.setState({loading:!0}),this.props.loadingIndicatorCallback(!0),!g.isAuth&&(r||h)&&d){var b=new S.c(c,"web_login_welcome_email").enabled();c.experiments.flush(),b&&d(!0)}var w=t||{username_or_email:this.props.email,password:this.props.password},y={container:this.props.container,hybridTier:this.context.hybridTier,page:this.context.pageType},v=this.getAuxDataLoginMethod(e);g.isAuth?Object(C.a)(7534,{login_state:g.isLimitedLogin?2:1,signup_login_method:v}):Object(C.a)(7534,{signup_login_method:v}),s&&new S.c(c,"web_flush_impressions_before_account_switch").enabled()&&l.a.getInstance().pauseImpressionsAndFlush(),Object(u.a)(w,y,this.props.requestContext.seoUnauthExperiments,s,o,f).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g.isAuth?Object(C.a)(7536,{login_state:g.isLimitedLogin?2:1,signup_login_method:v}):Object(C.a)(7536,{signup_login_method:v}),A.c.storeLoginCredentialsToBrowser(w);var t=n.props.nextUrlParam||A.c.defaultLoginRedirectUrl();if(s&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){var o=e.resource_response.data.user;Object(E.b)(o,"email",i),t="/"+o.username}else"/"!==t&&_.b.localStorage.setItem("authAfterLogin",!0),A.c.storeLoginCredentialsToBrowser(w);p?p(!1):A.c.handleRedirect(t)}),(function(t){return n.handleLoginFailure(e,t,w)}))}},{key:"renderSocialButtons",value:function(){var e=this.props,t=e.disablePostSignupNextUrl,o=e.hideFacebookButton,n=e.hideGoogleButton,i=e.isAccountSwitch,r=e.isPersonalizedLoginFlyout,s=e.loadingIndicatorCallback,l=e.nextUrlParam,u=e.onLoginWithMfa,d=e.onSocialConnectVerified,p=e.shouldPreventRegister,g=e.showLoginWelcomeLoadingFn,m=!o&&a.a.createElement(P.b,{buttonText:c.a._("Continue with Facebook"),container:this.props.container,disablePostSignupNextUrl:t,isAccountSwitch:i,loadingIndicatorCallback:s,nextUrlParam:l,onSocialConnectVerified:d,onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,tooltip:this.state.facebookValidationError,useGestaltTooltip:!0,preventRegister:p?this.preventRegister.bind(this):void 0,showResponseMessageModal:this.props.showResponseMessageModal,showLoginWelcomeLoadingFn:g}),h=!n&&a.a.createElement(T.b,{container:this.props.container,disablePostSignupNextUrl:t,isAccountSwitch:i,nextUrlParam:l,onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,onSocialConnectVerified:d,tooltip:this.state.googleValidationError,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,preventRegister:p?this.preventRegister.bind(this):void 0,showResponseMessageModal:this.props.showResponseMessageModal,showLoginWelcomeLoadingFn:g}),f=o||n?"0px":"8px",_=r?B({},z.socialButtonSeparator,{height:f}):z.socialButtonSeparator,b=r?B({},z.socialButtonContainer,{marginTop:"9px"}):z.socialButtonContainer;return a.a.createElement("div",{style:b},m,a.a.createElement("div",{style:_}),h)}},{key:"render",value:function(){var e=this.props.email;return a.a.createElement("div",{style:z.loginContainer},a.a.createElement(x.b,{modalType:this.state.accountRecoveryModalType,updateAccountRecoveryModal:this.updateAccountRecoveryModal,email:e,onLoginWithMfa:this.props.onLoginWithMfa}),this.renderButtons(),!this.props.hideTermsOfService&&a.a.createElement(b.a,{dark:!0}))}}])&&N(o.prototype,n),i&&N(o,i),t}(n.Component);D(H,"defaultProps",{container:"unknown",isAccountSwitch:!1,isPersonalizedLoginFlyout:!1,shouldPreventRegister:!1});H.contextTypes={isAuthenticated:g.a.bool.isRequired,locale:g.a.string.isRequired,loginState:g.a.number,userAgent:g.a.shape({isMobile:g.a.bool.isRequired}).isRequired,hybridTier:g.a.string,pageType:g.a.string},t.a=Object(k.compose)(Object(i.connect)((function(e){return{viewer:e.viewer}})),R.withRouter)(H)},cqmR:function(e,t,o){"use strict";var n=o("D+W/"),a=o("n/kK"),i=o("QtSf"),r=o("ovu7"),s={PhoneNumberAsYouTypeParser:null,csrf:Math.floor(0xffffffffffff*Math.random()).toString(16),phoneNumberValidators:[Object(r.p)(),Object(r.o)()],setupPhoneAuth:function(e){var t=s.csrf;window.AccountKit_OnInteractive=function(){AccountKit.init({appId:n.a.GEN.templateConst.settings.FACEBOOK_API_KEY,state:t,version:"v1.1",fbAppEventsEnabled:!0})},function(t,o,n){var i=t.getElementsByTagName(o)[0];if(!t.getElementById(n)){var r=t.createElement(o);r.id=n,r.src="https://sdk.accountkit.com/"+a.a.getLocaleString(e)+"/sdk.js",i.parentNode.insertBefore(r,i)}}(document,"script","accountkit-jssdk"),Promise.all([o.e("vendors~PhoneNumberAsYouTypeParserCommon"),o.e("PhoneNumberAsYouTypeParserCommon")]).then(o.bind(null,"Ehfw")).then((function(e){s.PhoneNumberAsYouTypeParser=e.default}))},runPhoneValidators:function(e,t,o){var n=Object(i.a)(e,s.phoneNumberValidators);if(!n)try{var a=s._extractCountryCode(t),r=new s.PhoneNumberAsYouTypeParser(a);r.input(e),AccountKit.login("PHONE",{countryCode:s._extractPhoneCountryCode(r),phoneNumber:s._extractPhoneNumber(r)},o)}catch(l){return!0}return n},validateResponse:function(e){return e&&"PARTIALLY_AUTHENTICATED"===e.status&&e.state===s.csrf},_extractCountryCode:function(e){return e.slice(-2).toUpperCase()||"US"},_extractPhoneCountryCode:function(e){return e.country_phone_code?"+"+e.country_phone_code:e.country&&e.country_metadata.length>0?"+"+e.country_metadata[0]:"+1"},_extractPhoneNumber:function(e){return e.national_number}};t.a=s},hrsr:function(e,t,o){"use strict";o.d(t,"a",(function(){return p})),o.d(t,"e",(function(){return g})),o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return h})),o.d(t,"d",(function(){return f})),o.d(t,"f",(function(){return _}));var n=o("RdRb"),a=o("G8/I"),i="postmessage",r="profile email",s="694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",l="com.pinterest",c="offline",u="single_host_origin",d=function(){return Object(a.c)("https://apis.google.com/js/client:platform.js",a.a.GPLUS_ONE)};function p(e){var t={scope:r,client_id:s,app_package_name:l,access_type:c,cookie_policy:u},o=function(t){e&&e(t)};return new Promise((function(e,n){d().then((function(){o("google_script_load"),window.gapi.auth2?(o("google_script_init_onuse"),window.gapi.auth2.init(t).then((function(t){o("google_init_success"),e(t)}),(function(e){var t=e.error;o("google_init_error"),n("init_onuse_".concat(t))}))):(o("google_script_init_exists"),window.gapi.load("auth2",{callback:function(){o("google_auth2_load_complete"),window.gapi.auth2.init(t).then((function(t){o("google_init_success"),e(t)}),(function(e){var t=e.error;o("google_init_error"),n("init_exists_".concat(t))}))},onerror:function(e){var t=e.error;o("google_auth2_script_load_error"),n(t)},timeout:15e3,ontimeout:function(){o("google_auth2_script_load_timeout"),n("timeout")}}))}))}))}function g(e,t){return function(e,t){return new Promise((function(o,a){Object(n.b)()?a():(t("init_google_button_v4"),t("google_button_init"),p(t).then((function(){t("google_sdk_load"),window.gapi.signin.render(e,{scope:r,clientid:s,apppackagename:l,redirecturi:i,accesstype:c,cookiepolicy:u,callback:function(e){t("callback_response");var n=e.status,a=n.signed_in?{data:{gplus_id_token:e.id_token,gplus_access_token:e.access_token,gplus_expires_at:e.expires_at,gplus_autologin:!0},signupOptions:{gplus_code:e.code,gplus_id_token:e.id_token,gplus_redirect_uri:i}}:{};n.signed_in?t("google_auth_data_found"):t("gplus_user_not_logged_in"),o(a)}})}),(function(e){t("google_auth2_sdk_init_error"),a(e)})))}))}(e,t)}function m(e,t){return function(e,t,o){return new Promise((function(a,r){t&&Object(n.b)()?r():d().then((function(){window.gapi.signin.render(e,{scope:o,clientid:s,apppackagename:l,redirecturi:i,accesstype:c,cookiepolicy:u,callback:function(e){var o=e.status,n=o.signed_in?{data:{gplus_id_token:e.id_token,gplus_access_token:e.access_token,gplus_expires_at:e.expires_at,gplus_autologin:t||!1},signupOptions:{gplus_code:e.code,gplus_id_token:e.id_token,gplus_redirect_uri:i}}:{};(o.signed_in||t)&&a(n)}})}))}))}(e,t,r)}function h(e,t,o){return function(e,t,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,l){a&&Object(n.b)()?l():(o("google_button_init"),p(o).then((function(){o("google_sdk_load"),t.signin2.render(e,{scope:r,onsuccess:function(e){o("google_button_success");var t=e.getAuthResponse(!0),n={data:{gplus_id_token:t.id_token,gplus_access_token:t.access_token,gplus_expires_at:t.expires_at,gplus_autologin:a||!1},signupOptions:{gplus_code:"",gplus_id_token:t.id_token,gplus_redirect_uri:i}};s(n)},onfailure:function(){o("google_button_failure"),l("gapi_signin2_render_error")}})}),(function(e){o("google_auth2_sdk_init_error"),l(e)})))}))}(e,t,o,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}function f(e,t){return function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(e,a){o&&Object(n.b)()?a():(t("google_button_init"),p(t).then((function(n){t("google_sdk_load");var i=n.currentUser.get();i&&i.Zi||a("gplus_user_not_found");var r=i.getAuthResponse(!0);if(r){t("google_auth_data_found");var s={data:{gplus_id_token:r.id_token,gplus_access_token:r.access_token,gplus_expires_at:r.expires_at,gplus_autologin:o||!1}};e(s)}a("gplus_user_not_logged_in")}),(function(e){t("google_auth2_sdk_init_error"),a(e)})))}))}(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}function _(e,t){return new Promise((function(e,o){Object(n.b)()?o():(t("google_button_init"),function(e){var t={scope:r,client_id:s,app_package_name:l,access_type:c,cookie_policy:u};return new Promise((function(o,n){e("google_script_fetch"),Object(a.c)("https://apis.google.com/js/platform.js",a.a.GPLUS_ONE).then((function(){e("google_script_load"),window.gapi.load("auth2",{callback:function(){e("google_auth2_load");var a=window.gapi.auth2.init(t);a.then((function(){e("google_init_success"),o(a)}),(function(t){var o=t.error;e("google_init_error"),n("init_exists_".concat(o))}))},onerror:function(t){var o=t.error;e("google_auth2_script_load_error"),n(o)},timeout:15e3,ontimeout:function(){e("google_auth2_script_load_timeout"),n("timeout")}})}))}))}(t).then((function(n){t("google_sdk_load");var a=n.currentUser.get();a&&a.Zi||o("gplus_user_not_found");var i=a.getAuthResponse(!0);if(i){t("google_auth_data_found");var r={data:{gplus_id_token:i.id_token,gplus_access_token:i.access_token,gplus_expires_at:i.expires_at,gplus_autologin:!0}};e(r)}t("google_auth_data_not_found"),o("gplus_user_not_logged_in")}),(function(e){t("google_auth2_sdk_init_error"),o(e)})))}))}},m3Ge:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("ggpB"),a=function(e,t,o){Object(n.c)("unauth.magic_link_login.".concat(e),{has_email_data:!!t,has_password_data:!!o})}},ulrk:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o("GyhR"),a=o.n(n),i=o("Qo1m"),r=o("+U6O");function s(e){var t=e.color,o=e.onClick,n=e.overrideText||i.a._("Got it","Acknowledge protected account modal message");return a.a.createElement(r.c,{accessibilityLabel:n,color:t||"gray",onClick:o,text:n})}},wFAD:function(e,t,o){"use strict";var n=o("GyhR"),a=o("+aUF"),i=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"],r=o("Qo1m"),s=o("MLP8"),l=o("jDCj"),c=o("ggpB"),u=o("9Y9K"),d=o("Irlq"),p=o("m3Ge"),g=o("cEhz"),m=o("2YES"),h=o("+U6O");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){v(e,t,o[t])}))}return e}function b(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k={captcha:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"},signupButton:{width:"100%"},wrapperVisible:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",display:"flex",opacity:1,alignItems:"center",justifyContent:"space-between",height:"100%"},wrapperHidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",display:"none",opacity:0}},O=function(e){function t(){var e,o,l,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var d=arguments.length,g=new Array(d),m=0;m<d;m++)g[m]=arguments[m];return l=this,u=(e=w(t)).call.apply(e,[this].concat(g)),o=!u||"object"!==f(u)&&"function"!=typeof u?E(l):u,v(E(E(o)),"state",{domainError:"",newEmail:"",showAgeInput:o.props.showAgeInput}),v(E(E(o)),"updateEmail",(function(){var e=o.props,t=e.onEmailChange,n=e.onTypoSuggestionClick;o.state.newEmail&&(t({target:{value:o.state.newEmail}}),n(),Object(c.a)("unauth.email_domain_typo_suggestion.clicked"))})),v(E(E(o)),"handleEmailBlur",(function(){var e=o.props,t=e.checkEmailExistsWithCompletion,n=e.email,a=e.handleExistingEmail,r=e.isSignupForm,l=e.onEmailBlur,c=o.state.showAgeInput;l&&l(),n&&n.length>0&&t&&t(n,(function(){r&&c&&o.setState({showAgeInput:!1}),a&&a(!0)}),(function(){r&&!c&&o.setState({showAgeInput:!0}),a&&a(!1)}));var u=n&&-1!==n.indexOf("@")?n.split("@"):[];if(n&&n!==o.state.newEmail||o.setState({domainError:""}),n&&u&&n.length<60){if(2===u.length){var d=u[1],p=d&&-1!==d.indexOf(".")?d.split("."):[];if(p.length>=2&&"gmail"===p[0]&&"com"!==p.slice(1).join(".")){var g=u[0]+"@gmail.com";o.setEmailTypoSuggestion(g)}}var m=u[1]&&i.includes(u[1])?null:u[1]&&i.map((function(e){var t=Object(s.a)(e,u[1]);return 2===t||1===t?e:null})).filter((function(e){return"string"==typeof e}));if(m&&m.length){var h=m[0]?"".concat(u[0],"@").concat(m[0]):"";o.setEmailTypoSuggestion(h)}}})),v(E(E(o)),"renderDefaultLoginButton",(function(e,t){var i=o.props,r=i.email,s=i.buttonText,l=i.buttonTextLabel,c=i.password;return n.createElement("div",{"data-test-id":"registerFormSubmitButton",onClick:t?function(){return Object(p.a)("login_click_".concat(e?"disabled":"enabled"),r,c)}:function(){}},n.createElement(a.a,{accessibilityLabel:l,className:"red SignupButton",disabled:e,styleOverrides:k.signupButton,type:"submit"},n.createElement("div",null,s)))})),v(E(E(o)),"renderMagicLinkButton",(function(e){var t=o.props,i=t.buttonTextLabel,s=t.email,l=t.handleMagicLinkClick,c=t.magicLinkLoading,u=t.password;return n.createElement("div",{onClick:function(){return Object(p.a)("passwordless_click_".concat(e?"disabled":"enabled"),s,u)}},n.createElement(a.a,{accessibilityLabel:i,className:"red SignupButton",disabled:e,loading:c,styleOverrides:k.signupButton,onClick:l},n.createElement(h.b,null,r.a._("Log in without password","text on button allowing users to get an email to login"))))})),o}var o,u,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),o=t,g=[{key:"getDerivedStateFromProps",value:function(e,t){return e.email===t.newEmail?{domainError:"",newEmail:""}:null}}],(u=[{key:"setEmailTypoSuggestion",value:function(e){var t=Object(d.b)(r.a._("Did you mean {{ newEmail }}?"),{newEmail:n.createElement(h.J,{bold:!0,inline:!0,color:"red",size:"sm",key:"err_text"},e)});this.setState({domainError:t,newEmail:e}),this.props.email===e?this.setState({domainError:""}):Object(c.a)("unauth.email_domain_typo_suggestion.shown")}},{key:"renderLoginButtons",value:function(){var e=this.props,t=e.email,o=e.magicLinkGroup,a=this.props.disableEmailLogin||!1,i=""!==this.props.password,r=this.renderDefaultLoginButton(a||!i,!0),s=this.renderMagicLinkButton(i||""===t);return o&&o.startsWith("enabled_login_primary")?n.createElement(h.b,null,r,s):o&&o.startsWith("enabled_magic_link_primary")?n.createElement(h.b,null,s,r):o&&o.startsWith("enabled_inactive_login")?r:this.renderDefaultLoginButton(a)}},{key:"render",value:function(){var e=this.props,t=e.age,o=e.ageValidationError,a=e.disableEmailLogin,i=e.email,s=e.emailFieldHasError,c=e.emailLabel,u=e.emailText,d=e.emailValidationError,p=e.hideEmailField,g=e.hideFacebookButton,m=e.hideGoogleButton,f=e.hidePasswordField,b=e.inputStyleOverrides,w=e.onAgeBlur,y=e.onAgeChange,E=e.onButtonClick,v=e.onEmailChange,O=e.onPasswordChange,S=e.password,C=e.passwordFieldVisible,L=e.passwordText,R=e.passwordValidationError,x=e.renderPasswordResetLink,P=e.suppressFocus,T=k.wrapperVisible;!1===C&&(T=k.wrapperHidden);var A=d;return A||!f&&!a||(g||m?!g&&m?A=r.a._("Your account is connected to Facebook - use the Facebook button to log in","Customized desktop login for users with Facebook"):g&&!m&&(A=r.a._("Your account is connected to Google - use the Google button to log in","Customized desktop login for users with Google")):A=r.a._("Your account is connected to Facebook and Google - use the buttons to log in","Customized desktop login for users with FB and Google")),n.createElement("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:function(e){e.preventDefault(),E(e)}},!p&&n.createElement(h.b,{"data-test-id":"emailInputField"},n.createElement(l.a,{accessibilityLabel:c,autoComplete:"username",fieldsetStyleOverrides:{marginBottom:"7px"},focused:!P,hasError:!!d||s,domainError:this.state.domainError,id:"email",inputStyleOverrides:b,name:"id",onBlur:this.handleEmailBlur,onChange:v,placeholder:u,tooltip:A,type:"email",value:i,updateEmail:this.state.domainError?this.updateEmail:null,useExperimentalTextfield:!0,useGestalt:!0})),!f&&n.createElement(n.Fragment,null,n.createElement(h.b,{"data-test-id":"passwordInputField"},n.createElement(l.a,{autoComplete:"new-password",disabled:a,hasError:!!R,id:"password",inputStyleOverrides:_({},b,T),name:"password",onChange:O,placeholder:L,tooltip:R,type:"password",value:S,useExperimentalTextfield:!1,useGestalt:!0})),x?x():null),!f&&this.state.showAgeInput?n.createElement(h.b,{"data-test-id":"ageInputField"},n.createElement(l.a,{accessibilityLabel:"age",autoComplete:"off",dataTestId:"ageInputField",fieldsetStyleOverrides:{marginTop:"7px"},hasError:!!o,id:"age",inputStyleOverrides:_({},b),name:"age",onBlur:w,onChange:y,placeholder:r.a._("Age"),tooltip:o,type:"text",value:t,useExperimentalTextfield:!0,useGestalt:!0})):null,window.recaptchaCount>0?n.createElement("div",{id:"recaptcha_placeholder_".concat(window.recaptchaCount),className:"g-recaptcha",style:k.captcha}):null,!f&&this.renderLoginButtons())}}])&&b(o.prototype,u),g&&b(o,g),t}(n.Component);t.a=Object(u.compose)(m.e,g.b)(O)}}]);
//# sourceMappingURL=pjs-BusinessAccountLoginPageDesktop~FullPageSignup~LoginPageDesktop~LoginPageSterling~PersonalizedLoginF~85b9c608-ec5fd418ac68cdf401f2.js.map
