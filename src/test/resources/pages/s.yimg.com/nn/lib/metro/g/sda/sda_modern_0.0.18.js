(function(){var l=window;var E=document;var r=l.YAHOO||{};var o=l.DARLA||null;var c=l&&l.wafer;var H;var i="viewerClosed";var L="viewerOpened";var x="homepage-viewer";var e="pageVisibilityChange";var I="scroll";var N="adRotateEvt";var m="AUTO";var B="tabswitch";var u="my-ads";var k=u+"LREC2-config";var G=u+"UBALREC2-config";var C="sticky-lrec2-footer";var J="2023538075";var K=100;var f;var d;var n;var O;var Q;var h;var g=false;var t=Date.now||function(){return new Date().getTime();};if(!c){return;}c.ready(function(){H=c.base||{};w();});function D(S){var R=["autorotate","disablerotation","lrec2selectiveenabled","lrec4enabled","mon2enabled"];for(var T=0;T<R.length;T++){S[R[T]]=!!+S[R[T]];}}function b(R){if(!R||typeof R!=="string"){return"";}var T;try{T=JSON.parse(R);}catch(S){return"";}return T;}function w(){n=E.getElementById(k)||E.getElementById(G);if(!n||!n.dataset){return;}f=b(JSON.stringify(n.dataset));if(!f||!f.config){return;}D(f);O=b(f.config);if(!O){return;}d=E.getElementById(u+O.pos);if(!o||!d){return;}var T={offsetX:0,offsetY:parseInt(f.offset,10)||K};c.on(I,q);l.addEventListener(L,function R(){g=true;});l.addEventListener(i,function S(){g=false;v();});setTimeout(function(){P();a();q(T);},300);}function j(R,S){S=S||{};return c.utils.elementInView(R,S,H.viewport);}function q(R){if(g){return;}if(j(d,R)){p();c.removeListener(I,q);}}function a(){h=parseInt(f.tabswitchrotate,10)||0;if(!h){return;}Q=t();c.on(e,F);if(window.addEventListener){window.addEventListener("focus",function(){F({isActive:true});});window.addEventListener("blur",function(){F({isActive:false});});}}function F(X){if(!X.isActive){Q=t();return;}if(X.isActive){var T=t();if(T-Q<h||!o||o.inProgress()){return;}if(!l._darlaAutoEvt){l._darlaAutoEvt=M();}var Z=l._darlaAutoEvt.ps;var W=["MON"];var ac=[];if(l.pageloadValidAds&&l.pageloadValidAds.indexOf("UBALREC")>=0){W.push("UBALREC");W.push("UBALREC2");W.push("UBALREC3-9");}var S={};if(g){var R=o.evtSettings("homepage-viewer");if(R&&R.ps){W=R.ps.split(",");}S=o.evtSettings("AUTO");}else{for(var ab in Z){if(Z.hasOwnProperty(ab)){W.push(ab);}}}for(var Y=0;Y<W.length;Y++){var V=o.posSettings(W[Y]);if(V&&V.dest){var aa=document.getElementById(V.dest);if(aa&&j(aa,0)&&aa.offsetHeight>1){ac.push(W[Y]);}}}if(ac.length){var U={ps:ac.join(","),name:B,sp:S.sp||l._darlaAutoEvt.sp,sa:S.sa||l._darlaAutoEvt.sa,ssl:l._darlaAutoEvt.ssl,secure:l._darlaAutoEvt.secure,ref:l.location.href,npv:1,property:"fp",ult:S.ult||l._darlaAutoEvt.ult,experience:l._darlaAutoEvt.experience};l.DARLA.add(U);l.DARLA.event(B);}return;}}function p(){if(!f){return;}var X=O;var ac;var af;var Y;var ae="";var ab;var aa;var ah=[X];var U=f.lrec4pos||"LREC4";var aj=u+U;var ad=E.getElementById(aj);var T=ad&&ad.dataset&&ad.dataset.config;var Z=T&&b(T)||s(U,aj,aj+"-iframe",300,250);var W=f.mon2pos||"MON2";var R=u+W;var ag=E.getElementById(R);var ai=ag&&ag.dataset&&ag.dataset.config;var S=ai&&b(ai)||s(W,R,R+"-iframe",300,600);if(X){ac=X.pos;X.id=ac;ae+=ac;}if(f.lrec4enabled){af=Z.pos;ae+=","+af;ah.unshift(Z);}if(f.mon2enabled){Y=S.pos;ae+=","+Y;ah.push(S);}aa="fetch_selective_ad_"+ac.toLowerCase();ab=A(ae,aa);if(o.inProgress()){var V=o.inProgress();if(V&&V===x){o.abort();o.add(ab);o.addPos(ah);o.event(aa);}else{z();return;}}else{if(f.lrec2selectiveenabled){o.add(ab);o.addPos([ah]);o.event(aa);}}P();}function v(){if(!o||!l.pageloadNonCollapsedAds){return;}var ad;var af=[];var ac=l.pageloadNonCollapsedAds;var ae=["LREC","MAST","LDRB","UBALDRB","UBALREC"];for(var U=0;U<ae.length;U++){var S=ae[U];if(ac.indexOf(S)>=0){var Z=E.getElementById(u+S);if(Z&&j(Z)){af.push(S);}}}if(af.length){ad=A(af,N);y(ad,true);}else{if(ac.indexOf("FPAD")>=0&&l.safeframeOptinPositions&&l.safeframeOptinPositions.FPAD){ad=A("FPAD",N);var X=o.config();var V=E.getElementById(u+"FPAD");var aa=!!(X&&X.positions&&X.positions.FPAD);if(aa&&V&&j(V)){y(ad);}}}if(!f){return;}var R=E.getElementById(C);if(R&&j(R)){var ab=[];var W=b(f.config);var ah=W&&W.pos||"";ah&&ab.push(ah);if(f.mon2enabled){var ag=document.getElementById(u+"MON2");if(ag&&ag.className.indexOf("D-n")===-1){ab.push("MON2");}else{if(f.lrec4enabled&&f.lrec4pos){ab.push(f.lrec4pos);}}}else{if(f.lrec4enabled&&f.lrec4pos){ab.push(f.lrec4pos);}}if(ab.length){var T="fetch_selective_ad_"+ah.toLowerCase();var Y=A(ab.join(","),T);o.add(Y);o.event(T);}}P();}function z(){var R=0;var S=setInterval(function(){if(R>20){clearInterval(S);return;}if(!o.inProgress()){clearInterval(S);p();}R++;},500);}function s(V,T,S,U,R){return{pos:V,clean:T,dest:S,w:U,h:R,metaSize:true,supports:false};}function A(V,X,Z){var Y=r.context||{};var aa={pg:{property:"fp",test:Y.bucketId,intl:Y.intl,rid:Y.rid,device:Y.device}};var S={ps:V,name:X,sp:Y.spaceid||J,ssl:Y.isSsl||1,secure:1,ref:l.location.href,npv:1,property:"fp",ult:aa,experience:{pt:"index",pd:"modal",rid:Y.rid||"",sid:r.i13n&&r.i13n.currentSID||"",bucket:Y.bucketId||""}};for(var U in Z){if(Z.hasOwnProperty(U)){S[U]=Z[U];}}if(l.bucketSAEnabled){var T=Y.bucketId&&'Y-BUCKET="'+Y.bucketId+'"'||"";if(l.facCustomTimout&&l.facCustomTimout>0){T+=" ctout="+l.facCustomTimout;}if(l.flSAKey&&"undefined"!==l.flInstalled){T+=" "+l.flSAKey+"="+l.flInstalled;}if(l.segBlob){var W="";var R="";for(var ab in l.segBlob){if(l.segBlob.hasOwnProperty(ab)){W+=R+ab+":"+l.segBlob[ab];R=";";}}T+=' rs="'+W+'"';}T+=" "+(l.customSiteAttr||"");S.sa=T;}return S;}function M(){var V=!!+f.disablerotation;var X={};var S=f.currentpos.toLowerCase();f[S+"enabled"]=true;var T=f.defaultrt;var W=l.pageloadNonCollapsedAds||[];var R=[S,"lrec4","mon2","mast","ldrb","lrec","mon"];if(V){return null;}for(var U=0;U<R.length;U++){var Y=R[U];if(f[Y+"enabled"]||(f[Y+"rt"]&&W.indexOf(Y.toUpperCase())!==-1)){X[Y.toUpperCase()]={autoIV:1,autoMax:25,autoRT:f[Y+"rt"]||T};}}return A(X,m,{autoStart:1,autoMax:25,autoRT:f.autoeventrt,autoIV:1,autoDDG:1});}function P(){if(f.autorotate){if(o&&o.inProgress()){setTimeout(function(){P();},500);}else{l._darlaAutoEvt=M();if(o&&l._darlaAutoEvt){o.add(l._darlaAutoEvt);if(!o.isAutoOn()){o.startAuto();}}}}}function y(S,R){R=R||false;if(o.inProgress()){if(o.inProgress()===x){o.abort();if(R&&l._darlaAutoEvt&&l._darlaAutoEvt.ps){o.add(l._darlaAutoEvt);}o.add(S);o.event(N);}}else{if(R&&l._darlaAutoEvt&&l._darlaAutoEvt.ps){o.add(l._darlaAutoEvt);}o.add(S);o.event(N);}}})();/* Copyright (c) 2019, Yahoo! Inc.  All rights reserved. */
